# S25016 펀치리스트 관리 시스템

## 개요

프로젝트 이슈를 체계적으로 관리하기 위한 펀치리스트 시스템입니다.

- **프로젝트**: S25016
- **목적**: 기계/전기/제어 이슈 추적 및 관리
- **저장소**: Google Sheets 연동

## 주요 기능

### 이슈 분류 체계

```
📊 분류
├── 🔧 기계 (Mechanical)
│   ├── 구조물
│   ├── 프레임
│   ├── 이송장치
│   └── 기타
├── ⚡ 전기 (Electrical)
│   ├── 배선
│   ├── 센서
│   ├── 모터
│   ├── 전원
│   └── 기타
└── 💻 제어 (Control)
    ├── 🤖 로봇
    ├── 🖥️ UI/HMI
    ├── 📏 계측
    ├── PLC
    └── 기타
```

### 이슈 관리 항목

**기본 정보**:
- ID (자동 생성: PL-YYYY-NNN)
- 제목
- 분류 / 세부분류
- 우선순위 (긴급/높음/보통/낮음)
- 상태 (신규/진행중/보류/완료/검증중)

**문제 정보**:
- 문제 상황
- 원인 분석
- 조치 계획
- 조치 결과

**담당 정보**:
- 담당자
- 협의자
- 승인자

**일정 정보**:
- 요청일
- 목표 완료일
- 실제 완료일

**추가 기능**:
- 댓글 시스템
- 파일 첨부
- 이메일 알림

## 폴더 구조

```
punchlist/
├── index.html                  # 메인 대시보드
├── pages/
│   ├── create.html             # 이슈 생성
│   ├── list.html               # 이슈 목록
│   └── detail.html             # 이슈 상세
├── scripts/
│   ├── punchlist.js            # 클라이언트 스크립트
│   └── GoogleAppsScript.js     # Google Apps Script
├── data/
│   └── (Google Sheets 연동)
├── templates/
│   └── issue-template.json     # 이슈 템플릿
└── README.md                   (이 파일)
```

## 사용법

### 1. Google Sheets 설정

1. **Google Sheets 생성**
   - 새 스프레드시트 생성
   - 시트 ID 복사 (URL에서 확인)

2. **Apps Script 설정**
   ```
   확장 프로그램 > Apps Script
   ```

3. **코드 붙여넣기**
   - `scripts/GoogleAppsScript.js` 내용 복사
   - Apps Script 에디터에 붙여넣기
   - `SHEET_ID` 값을 실제 시트 ID로 변경

4. **초기 설정 실행**
   ```javascript
   // Apps Script에서 실행
   setupSheet()
   ```

5. **웹 앱 배포**
   ```
   배포 > 새 배포
   유형: 웹 앱
   액세스 권한: 모든 사용자
   배포 URL 복사
   ```

6. **클라이언트 설정**
   - `scripts/punchlist.js` 파일 열기
   - `SCRIPT_URL` 값을 배포 URL로 변경

### 2. 로컬 서버 실행

```bash
python3 -m http.server 8000
```

브라우저: http://localhost:8000/punchlist/

### 3. 이슈 등록

1. "새 이슈 등록" 버튼 클릭
2. 필수 항목 입력:
   - 제목
   - 분류 / 세부분류
   - 우선순위
   - 문제 상황
   - 담당자
   - 요청일 / 목표일
3. "이슈 등록" 버튼 클릭

### 4. 이슈 조회 및 필터링

**필터 옵션**:
- 분류별 (기계/전기/제어)
- 상태별 (신규/진행중/보류/완료/검증중)
- 우선순위별 (긴급/높음/보통/낮음)
- 담당자별
- 검색 (제목, 내용, ID)

**정렬**:
- 우선순위 우선 정렬
- 날짜순 정렬

### 5. 통계 확인

**메인 대시보드 통계**:
- 전체 이슈 수
- 진행 중 이슈
- 보류 이슈
- 완료 이슈
- 지연 이슈 (목표일 초과)

## 데이터 구조

### Google Sheets 컬럼

| 컬럼 | 설명 | 예시 |
|------|------|------|
| ID | 자동 생성 ID | PL-2024-001 |
| 제목 | 이슈 제목 | DeviceNet 통신 불안정 |
| 분류 | 주 분류 | 제어 |
| 세부분류 | 세부 분류 | 로봇 |
| 우선순위 | 긴급/높음/보통/낮음 | 긴급 |
| 상태 | 진행 상태 | 진행중 |
| 문제상황 | 문제 설명 | B라인 통신 끊김 |
| 원인분석 | 원인 | 이더넷 허브 문제 |
| 조치계획 | 해결 계획 | ABB 엔지니어 지원 |
| 조치결과 | 실행 결과 | 1~2호기 완료 |
| 담당자 | 담당자 이름 | 심태양 |
| 협의자 | 협의자 목록 | 김철수, ABB |
| 승인자 | 승인자 | 이부장 |
| 요청일 | 이슈 요청일 | 2024-10-02 |
| 목표일 | 목표 완료일 | 2024-10-10 |
| 완료일 | 실제 완료일 | 2024-10-09 |
| 첨부파일 | JSON 배열 | ["url1", "url2"] |
| 댓글 | JSON 배열 | [{author, text, timestamp}] |
| 생성일시 | ISO 타임스탬프 | 2024-10-10T10:00:00Z |
| 수정일시 | ISO 타임스탬프 | 2024-10-10T15:30:00Z |

### JSON 템플릿

```json
{
  "id": "PL-2024-001",
  "title": "이슈 제목",
  "category": "제어",
  "subcategory": "로봇",
  "priority": "긴급",
  "status": "진행중",
  "description": "문제 상황",
  "cause": "원인 분석",
  "action_plan": "조치 계획",
  "action_result": "조치 결과",
  "owner": "심태양",
  "collaborators": "김철수, 박영희",
  "approver": "이부장",
  "request_date": "2024-10-02",
  "target_date": "2024-10-10",
  "complete_date": "2024-10-09",
  "attachments": [],
  "comments": [
    {
      "author": "심태양",
      "text": "ABB 엔지니어 현장 지원 완료",
      "timestamp": "2024-10-09T15:30:00Z"
    }
  ]
}
```

## 워크플로우

### 1. 이슈 등록 프로세스

```
1. 문제 발견
   ↓
2. 새 이슈 등록 (create.html)
   - 분류 선택 (기계/전기/제어)
   - 세부분류 선택
   - 문제 상황 작성
   - 담당자 지정
   ↓
3. Google Sheets 저장
   ↓
4. 이메일 알림 발송
```

### 2. 이슈 처리 프로세스

```
신규 → 진행중 → (보류) → 완료 → 검증중
```

**상태 변경 시점**:
- **신규**: 이슈 최초 등록
- **진행중**: 조치 시작
- **보류**: 일시적 중단 (사유 기록 필수)
- **완료**: 조치 완료
- **검증중**: 완료 검증 중

### 3. 협업 프로세스

1. **담당자**: 이슈 해결 주체
2. **협의자**: 협의 필요한 관련자
3. **승인자**: 완료 승인자

## 알림 시스템

### 이메일 알림 조건

- ✉️ 이슈 생성 시 → 담당자에게 발송
- ✉️ 이슈 수정 시 → 담당자에게 발송
- ✉️ 상태 변경 시 → 담당자, 협의자에게 발송
- ✉️ 댓글 추가 시 → 관련자에게 발송

## 통계 및 리포트

### 대시보드 통계

- 전체 이슈 수
- 상태별 분포 (신규/진행중/보류/완료)
- 분류별 분포 (기계/전기/제어)
- 우선순위별 분포
- 담당자별 현황
- 지연 이슈 (목표일 초과)

### 주요 지표

- **완료율**: (완료 이슈 / 전체 이슈) × 100
- **지연율**: (지연 이슈 / 전체 이슈) × 100
- **평균 처리 시간**: 요청일 ~ 완료일

## 관련 프로젝트

- [메인 대시보드](/index.html)
- [DeviceNet 통신](../projects/devicenet/)
- [로봇 상하축 이슈](../projects/robot-vertical-axis/)
- [ROBOT↔UI 테스트](../projects/robot-ui-integration-test/)
- [근무관리](../projects/work-management/)

## 개발 이력

- **2024-10-10**: 펀치리스트 시스템 구축
  - Google Sheets 연동
  - 이슈 생성/조회 기능
  - 필터링 및 검색
  - 통계 대시보드

## 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Backend**: Google Apps Script
- **Database**: Google Sheets
- **Email**: Gmail API (via Apps Script)
- **공통 자산**: S25016 Shared Assets

## 담당자 정보

- **프로젝트**: S25016
- **시스템 관리자**: SP 심태양
- **위치**: 34bay 자동용접 A라인/B라인

## 문의

이슈 또는 개선 사항이 있으시면 펀치리스트에 등록해주세요.
