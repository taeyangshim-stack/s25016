<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자동용접 시스템 시운전 - 통신 문제 해결 진행 현황</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Malgun Gothic', Tahoma, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .copy-section {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #e0e0e0;
        }

        .btn-copy {
            padding: 15px 40px;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-copy:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(39, 174, 96, 0.4);
        }

        .btn-copy:active {
            transform: translateY(0);
        }

        .links-section {
            background: #ffffff;
            padding: 16px 20px;
            text-align: center;
            border-bottom: 1px solid #eef2f5;
        }
        .btn-link {
            display: inline-block;
            padding: 12px 20px;
            background: linear-gradient(135deg, #2980b9 0%, #1f5fa1 100%);
            color: white;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            text-decoration: none;
            margin: 4px 6px;
            box-shadow: 0 5px 15px rgba(41, 128, 185, 0.25);
            transition: transform .2s ease, box-shadow .2s ease;
        }
        .btn-link:hover { transform: translateY(-1px); box-shadow: 0 8px 18px rgba(41, 128, 185, 0.35); }
        .btn-link:active { transform: translateY(0); }

        .copy-status {
            margin-top: 15px;
            font-size: 0.95em;
            color: #27ae60;
            font-weight: bold;
            min-height: 20px;
        }

        .content {
            padding: 40px;
        }

        .text-content {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            border-left: 5px solid #e74c3c;
            font-family: 'Malgun Gothic', sans-serif;
            font-size: 0.95em;
            line-height: 2;
            color: #2c3e50;
            white-space: pre-wrap;
        }

        .section-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin: 25px 0 15px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #e74c3c;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .status-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #e74c3c;
            text-align: center;
        }

        .status-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .status-card .label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 8px;
        }

        .status-card .value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
            margin-top: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, #e74c3c 0%, #27ae60 100%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -32px;
            top: 25px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #e74c3c;
            border: 3px solid white;
            box-shadow: 0 0 0 3px #e74c3c;
        }

        .timeline-item.success::before {
            background: #27ae60;
            box-shadow: 0 0 0 3px #27ae60;
        }

        .timeline-item.failed::before {
            background: #95a5a6;
            box-shadow: 0 0 0 3px #95a5a6;
        }

        .timeline-date {
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .timeline-content {
            color: #2c3e50;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .badge-success {
            background: #27ae60;
            color: white;
        }

        .badge-failed {
            background: #95a5a6;
            color: white;
        }

        .badge-progress {
            background: #f39c12;
            color: white;
        }

        .info-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #2196f3;
            margin: 20px 0;
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #f39c12;
            margin: 20px 0;
        }

        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #27ae60;
            margin: 20px 0;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .copy-section {
                display: none;
            }

            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔧 자동용접 시스템 시운전</h1>
            <p>통신 문제 해결 진행 현황 보고</p>
        </div>

        <div class="copy-section">
            <button class="btn-copy" onclick="copyToClipboard()">
                📋 텍스트 복사하기
            </button>
            <div class="copy-status" id="copyStatus"></div>
        </div>

        <div class="links-section">
            <a class="btn-link" href="251009_예상원인점검_이더넷통신.html">📎 251009 예상 원인 점검(이더넷)</a>
        </div>

        <div class="content">
            <div class="status-grid">
                <div class="status-card">
                    <div class="icon">🏭</div>
                    <div class="label">프로젝트</div>
                    <div class="value">S25016</div>
                </div>
                <div class="status-card">
                    <div class="icon">📅</div>
                    <div class="label">작업 기간</div>
                    <div class="value">10/2 ~ 10/8</div>
                </div>
                <div class="status-card">
                    <div class="icon">🤖</div>
                    <div class="label">대상 라인</div>
                    <div class="value">A/B 라인</div>
                </div>
                <div class="status-card">
                    <div class="icon">⚡</div>
                    <div class="label">현재 상태</div>
                    <div class="value">진행 중</div>
                </div>
            </div>

            <div id="textContent" class="text-content">[자동용접 시스템 시운전 - 통신 문제 해결 진행 현황]

안녕하세요.
자동용접 시스템 시운전 중 발생한 통신 문제 해결 작업 진행 상황을 공유드립니다.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 시스템 구성 현황

▶ A라인 (정상 운영 중)
- 구성: 4개 거더 × 각 1대 로봇 + 1대 용접기
- 통신 방식: 이더넷 기반, 아크링크(ABB 옵션)
- 상태: 극히 일부 케이스에서만 간헐적 통신 문제 발생 (운영 가능 수준)

▶ B라인 (문제 발생, 개선 작업 진행 중)
- 구성: 3개 거더(1~3호) × 각 2대 로봇 + 2대 용접기
- 통신 방식: A라인과 동일 조건 (이더넷 기반, 아크링크)
- 상태: 다발성 통신 장애 확인

▶ 핵심 문제
Lincoln 용접기와 ABB 로봇 간 통신 불안정으로 용접 작업 진행 불가

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 문제 원인 분석 및 개선 작업

B라인의 통신 안정성을 확보하기 위해 예상 문제점을 도출하고, 단계별로 문제를 제거하는 방식으로 작업을 진행하고 있습니다.


【1단계】 네트워크 분리 작업 (10/3~10/4)
───────────────────────────────────
• 예상 원인: 용접기/로봇 통신과 기타 네트워크 간섭 가능성
• 조치 내용:
  - 통신 포트 물리적 분리
  - LAN1(192.168.125.XXX): 용접기 전용
  - LAN3(192.168.131.XXX): 기타 시스템 분리
• 결과: ❌ 개선 효과 없음 → 원인 대상에서 제외


【2단계】 네트워크 케이블 개선 (10/3~10/4)
───────────────────────────────────
• 예상 원인: 케이블 손상 가능성 (산막→야드 이송 과정 중 데미지)
• 조치 내용:
  - 기존 전체 라인에 적용되어 있는 케이블 점검
  - 신규 실드(Shield) 타입 기성품 이더넷 케이블을 3호기에 적용하여 테스트
• 결과: ✅ A라인에서 일부 개선 확인, B라인 근본 해결 미달


【3단계】 네트워크 구성 변경 (10/3~10/4)
───────────────────────────────────
• 예상 원인: 용접기 2대 구성 시 허브 경유로 인한 지연/충돌 가능성
• 조치 내용:
  - 허브 제거 후 용접기-컨트롤러 직결 테스트
  - 각 용접기별 독립 포트 할당
• 결과: ❌ 여전히 통신 장애 발생 → 원인 대상에서 제외


【4단계】 로봇 컨트롤러 소프트웨어 검증 (10/8)
───────────────────────────────────
• 예상 원인: RobotWare 버전 호환성 문제 가능성
• 조치 내용: 로봇웨어 버전 업그레이드 실시
• 결과: 버전 호환성 문제 배제 확인


【5단계】 통신 방식 변경 - DeviceNet 적용 (10/8, 진행 중)
───────────────────────────────────
• 조치 내용: 디바이스넷(DeviceNet) 통신 방식으로 전환

[1호기]
  - 기존: 이더넷 + 아크링크 조건
  - 1차 시도: 디바이스넷으로 변경 (아크링크 삭제)
  - 2차 시도: 디바이스넷 + 아크링크 조합 테스트
  - 최종: 디바이스넷 단독 구성으로 원복 (아크링크 재삭제)

[2호기]
  - 이더넷 타입 → 디바이스넷 타입으로 로봇 리빌딩 완료
  - DeviceNet 통신 테스트 완료:
    ✅ 통신 연결 성공
    ✅ 로봇에서 설정한 값이 데이터 방식으로 용접기에 정상 전송 확인
    ✅ I/O 데이터 송수신 정상

[발생 문제]
  - 용접 실행을 위한 용접 설정 방법적인 문제 발생:
    • WFS(와이어 피딩 속도) 제어 불가
    • 용접 전압 파라미터 설정 문제
    • 용접 스케줄 설정 문제

[10/8 작업 내역]
  - ABB(로봇) 및 Lincoln(용접기) 기술진 원격 대응
  - 용접 제어 파라미터(WFS, 용접전압, 스케줄) 변경하며 테스트 실시
  - 결과: 피딩 속도 제어 불가 현상 지속

[10/9 작업 계획 및 추가 분석]
  - 새로운 문제 가설 도출:
    • A라인 구성: 로봇 컨트롤러 1대당 용접기 1대 → 통신 안정적
    • B라인 구성: 로봇 컨트롤러 1대당 용접기 2대 → 다발성 통신 장애
    • ABB 컨트롤러 펌웨어가 2대 용접기 동시 제어 시 문제 발생 가능성 판단

  - 병행 작업 계획:
    [1~2호기]
      • DeviceNet 통신 연결 성공 확인됨
      • Lincoln 기술진과 용접 조건 셋업 작업 진행
      • WFS, 전압, 스케줄 파라미터 최적화

    [3호기]
      • 현재 상태: 이더넷 기반 (DeviceNet 미적용)
      • 조치 계획: 기존 설정 완전 삭제 후 리빌딩
      • 검증 목표: A라인 조건(컨트롤러 1대 + 용접기 1대)으로 구성하여
                    통신 장애 재현 여부 확인
      • 목적: 컨트롤러-용접기 대수 조합이 통신 장애 원인인지 검증


【6단계】 전원/통신 분리 및 노이즈 최소화 (10/3~10/4)
───────────────────────────────────
• 예상 원인: 용접 시 발생하는 전기적 노이즈가 통신에 영향
• 조치 내용: 전원선과 통신 케이블 물리적 이격 배선
• 결과: ❌ 여전히 통신 장애 발생 → 원인 대상에서 제외

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 현재 진행 상황 (10/8 기준)

▶ 완료된 작업
✅ DeviceNet 물리적 결선 및 통신 연결 성공
✅ 로봇→용접기 데이터 전송 정상 확인
✅ 2호기 로봇 리빌딩 완료 (디바이스넷 타입)
✅ 로봇웨어 버전 업그레이드

▶ 확인된 문제
⚠️ 용접 실행 시 와이어 피딩 속도(WFS) 제어 불가
⚠️ 용접 전압 파라미터 설정 문제
⚠️ 용접 스케줄 설정 문제
⚠️ ABB 로봇과 Lincoln 용접기 간 용접 모드 설정 방법 불일치로 판단

▶ 제외된 원인
❌ 네트워크 포트 분리 (개선 효과 없음)
❌ 네트워크 구성 변경 (문제 지속)
❌ 전원/통신 분리 (문제 지속)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 향후 계획 (10/9)

▶ 합동 기술 지원 (현장 방문)
- ABB 엔지니어 + Lincoln 엔지니어 현장 방문
- 용접 모드 설정 방법에 대한 직접 점검 및 조정

▶ 주요 작업 내용 - 병행 진행

[1~2호기 - 용접 파라미터 최적화]
1. 용접 모드(CC/CV) 설정 확인
2. DeviceNet 용접 제어 방식 셋업
3. WFS(와이어 피딩 속도) 제어 파라미터 조정
4. 용접 전압 설정 방법 확인
5. 용접 스케줄 매칭 작업
6. 실제 용접 테스트 즉시 실시

[3호기 - 시스템 재구축]
1. 기존 이더넷 기반 설정 완전 삭제
2. 로봇 컨트롤러 리빌딩 (DeviceNet 방식)
3. A라인과 동일한 조건(컨트롤러 1대 + 용접기 1대)으로 구성
4. 통신 안정성 검증 테스트

▶ 목표
- B라인 DeviceNet 방식 용접 제어 정상화
- 안정적인 용접 작업 환경 구축
- 컨트롤러-용접기 대수 조합 관련 통신 문제 원인 규명

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 요약

시운전 중 B라인에서 발생한 통신 문제를 단계적으로 분석하고 개선하고 있습니다.

▶ 문제 해결 접근 방식
1. 예상되는 모든 문제점을 리스트업하여 체계적으로 테스트
2. 효과가 없는 항목은 원인 대상에서 제외
3. 통신 방식을 디바이스넷으로 전환하여 통신 연결 성공
4. 현재 용접 모드 설정 방법 최종 조율 단계

▶ 현재 상태
- DeviceNet 통신 레벨: ✅ 정상 (데이터 송수신 확인)
- 용접 제어: ⚠️ 파라미터 설정 방법 조정 필요

10/9 ABB 및 Lincoln 기술진 현장 입회하에 용접 모드 셋업 및 즉시 테스트를 실시하여 문제를 해결하겠습니다.

추가 진행 사항은 계속 공유드리겠습니다.

감사합니다.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

담당: SP 심태양
프로젝트: S25016 - 34bay 자동용접 시스템</div>

            <div class="section-title">📊 작업 타임라인</div>

            <div class="timeline">
                <div class="timeline-item failed">
                    <div class="timeline-date">10/3~10/4 (목~금) <span class="badge badge-failed">원인 제외</span></div>
                    <div class="timeline-content">
                        <strong>1~3단계 테스트</strong><br>
                        • 네트워크 분리 작업 (효과 없음)<br>
                        • 케이블 교체 (A라인 일부 개선, B라인 미해결)<br>
                        • 네트워크 구성 변경 (문제 지속)
                    </div>
                </div>

                <div class="timeline-item success">
                    <div class="timeline-date">10/8 (화) <span class="badge badge-success">부분 성공</span></div>
                    <div class="timeline-content">
                        <strong>RobotWare 업그레이드 & DeviceNet 적용</strong><br>
                        • 로봇웨어 버전 업그레이드 완료<br>
                        • 2호기 DeviceNet 통신 연결 성공<br>
                        • 데이터 전송 정상 확인
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-date">10/8 (화) <span class="badge badge-progress">진행 중</span></div>
                    <div class="timeline-content">
                        <strong>ABB & Lincoln 원격 기술 지원</strong><br>
                        • 용접 제어 파라미터 조정 테스트<br>
                        • WFS 제어 불가 현상 지속<br>
                        • 용접 모드 설정 방법 문제로 판단
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-date">10/9 (수) <span class="badge badge-progress">예정</span></div>
                    <div class="timeline-content">
                        <strong>현장 합동 기술 지원 (병행 작업)</strong><br>
                        • ABB + Lincoln 엔지니어 현장 방문<br>
                        • 1~2호기: 용접 파라미터 최적화 및 테스트<br>
                        • 3호기: 완전 리빌딩 (컨트롤러-용접기 대수 조합 검증)
                    </div>
                </div>
            </div>

            <div class="success-box">
                <strong>✅ 확인된 성과</strong><br>
                • DeviceNet 통신 연결 성공 (통신 레벨 정상)<br>
                • 로봇→용접기 데이터 전송 정상 확인<br>
                • 불필요한 원인 3가지 제외하여 문제 범위 축소
            </div>

            <div class="warning-box">
                <strong>⚠️ 남은 과제</strong><br>
                • WFS(와이어 피딩 속도) 제어 파라미터 조정<br>
                • 용접 전압 설정 방법 확인<br>
                • 용접 스케줄 매칭 작업<br>
                • 용접 모드(CC/CV) 최종 설정
            </div>

            <div class="info-box">
                <strong>📅 다음 일정</strong><br>
                <strong>일시:</strong> 2024년 10월 9일 (수)<br>
                <strong>참석:</strong> ABB 엔지니어 + Lincoln 엔지니어 (현장 방문)<br>
                <strong>작업:</strong><br>
                • 1~2호기: 용접 모드 셋업 및 파라미터 최적화<br>
                • 3호기: 시스템 리빌딩 (컨트롤러-용접기 대수 조합 검증)<br>
                <strong>목표:</strong> 통신 문제 원인 규명 및 안정적인 용접 환경 구축
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard() {
            const textContent = document.getElementById('textContent').innerText;
            const statusElement = document.getElementById('copyStatus');

            // Clipboard API 사용
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(textContent).then(function() {
                    statusElement.textContent = '✅ 복사 완료! 메신저에 붙여넣기 하세요.';
                    statusElement.style.color = '#27ae60';

                    setTimeout(() => {
                        statusElement.textContent = '';
                    }, 3000);
                }, function(err) {
                    statusElement.textContent = '❌ 복사 실패. 텍스트를 직접 선택하여 복사해주세요.';
                    statusElement.style.color = '#e74c3c';
                });
            } else {
                // Fallback: 구형 브라우저 지원
                const textArea = document.createElement('textarea');
                textArea.value = textContent;
                textArea.style.position = 'fixed';
                textArea.style.top = '-9999px';
                document.body.appendChild(textArea);
                textArea.select();

                try {
                    document.execCommand('copy');
                    statusElement.textContent = '✅ 복사 완료! 메신저에 붙여넣기 하세요.';
                    statusElement.style.color = '#27ae60';

                    setTimeout(() => {
                        statusElement.textContent = '';
                    }, 3000);
                } catch (err) {
                    statusElement.textContent = '❌ 복사 실패. 텍스트를 직접 선택하여 복사해주세요.';
                    statusElement.style.color = '#e74c3c';
                }

                document.body.removeChild(textArea);
            }
        }

        // 페이지 로드 애니메이션
        document.addEventListener('DOMContentLoaded', function() {
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                item.style.opacity = '0';
                item.style.transform = 'translateX(-20px)';
                setTimeout(() => {
                    item.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    item.style.opacity = '1';
                    item.style.transform = 'translateX(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>
