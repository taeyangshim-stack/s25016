# ìš©ì ‘ì„  ë°ì´í„° CSV ì¶”ì¶œ ê°€ì´ë“œ

## ğŸ¯ ê°œìš”

ë¡œë´‡ ìš©ì ‘ ë¡œê·¸ íŒŒì¼ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì„ íƒí•˜ì—¬ CSV í˜•ì‹ìœ¼ë¡œ ì¶”ì¶œí•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ê¸°ë³¸ ì‚¬ìš© (ì„¤ì • íŒŒì¼ ê¸°ë°˜)

```bash
# ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì‹¤í–‰ (image_format í”„ë¦¬ì…‹)
python3 parse_to_csv.py

# ì¶œë ¥:
# extracted_data/
# â”œâ”€â”€ 1ê±°ë”_20260202.csv
# â”œâ”€â”€ 1ê±°ë”_20260203.csv
# â”œâ”€â”€ 2ê±°ë”_20260202.csv
# â””â”€â”€ ...
```

### 2. í”„ë¦¬ì…‹ ë³€ê²½

```bash
# ëª¨ë“  í•„ë“œ ì¶”ì¶œ
python3 parse_to_csv.py --preset full

# ì¢Œí‘œë§Œ ì¶”ì¶œ
python3 parse_to_csv.py --preset coordinates

# ê¸°ë³¸ ì •ë³´ë§Œ ì¶”ì¶œ
python3 parse_to_csv.py --preset basic
```

### 3. ì‚¬ìš© ê°€ëŠ¥í•œ í•„ë“œ í™•ì¸

```bash
python3 parse_to_csv.py --list-fields
```

---

## ğŸ“Š í”„ë¦¬ì…‹ ì¢…ë¥˜

| í”„ë¦¬ì…‹ | í•„ë“œ ìˆ˜ | ì„¤ëª… |
|--------|---------|------|
| **image_format** (ê¸°ë³¸) | 22ê°œ | ì´ë¯¸ì§€ì— í‘œì‹œëœ í˜•ì‹ (requestId, í˜¸ê¸°ì •ë³´, Robot1/2 ì¢Œí‘œ, ë‘ê»˜, ê¸¸ì´, ìš©ì ‘ë ˆê·¸) |
| **full** | 40ê°œ | ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ í•„ë“œ |
| **basic** | 15ê°œ | ê¸°ë³¸ ì •ë³´ + Robot1/2 ì¢Œí‘œë§Œ |
| **coordinates** | 13ê°œ | RequestID + Robot1/2 ì¢Œí‘œë§Œ |

---

## ğŸ› ï¸ ì»¤ìŠ¤í…€ í•„ë“œ ì„ íƒ

### ë°©ë²• 1: ì„¤ì • íŒŒì¼ í¸ì§‘

**`parse_config.json` ìˆ˜ì •:**

```json
{
  "preset": null,
  "custom_fields": [
    "requestId",
    "í˜¸ê¸°ì •ë³´",
    "timestamp",
    "startX1",
    "startY1",
    "startZ1",
    "endX1",
    "endY1",
    "endZ1",
    "length1"
  ],
  ...
}
```

### ë°©ë²• 2: ìƒˆ ì„¤ì • íŒŒì¼ ìƒì„±

```bash
# í…œí”Œë¦¿ ìƒì„±
python3 parse_to_csv.py --create-config my_config.json

# í¸ì§‘ í›„ ì‚¬ìš©
python3 parse_to_csv.py --config my_config.json
```

---

## ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ í•„ë“œ ì „ì²´ ëª©ë¡

### ê¸°ë³¸ ì •ë³´
- `requestId` - ìš”ì²­ ID
- `timestamp` - ë‚ ì§œì‹œê°„
- `í˜¸ê¸°ì •ë³´` - ê±°ë” ì •ë³´
- `targetGantryId` - ëŒ€ìƒ ê° íŠ¸ë¦¬ ID

### Robot 1 ì¢Œí‘œ
- `startX1`, `startY1`, `startZ1` - ì‹œì‘ì  ì¢Œí‘œ
- `endX1`, `endY1`, `endZ1` - ëì  ì¢Œí‘œ

### Robot 1 ìš©ì ‘ ì •ë³´
- `startThickness1` - ì‹œì‘ì  ë‘ê»˜
- `endThickness1` - ëì  ë‘ê»˜
- `length1` - ìš©ì ‘ì„  ê¸¸ì´
- `weldingLeg1` - ê°ë„ ì¹˜ìˆ˜ (ìš©ì ‘ ë ˆê·¸)
- `workAngle1` - ì‘ì—… ê°ë„

### Robot 1 ì¶”ê°€ ì •ë³´
- `weldingMacroType1` - ìš©ì ‘ ë§¤í¬ë¡œ íƒ€ì…
- `macroNumber1` - ë§¤í¬ë¡œ ë²ˆí˜¸
- `installationDirection1` - ì„¤ì¹˜ ë°©í–¥
- `weldLineId1` - ìš©ì ‘ì„  ID
- `gantryId1` - ê° íŠ¸ë¦¬ ID
- `robotId1` - ë¡œë´‡ ID
- `weldMode1` - ìš©ì ‘ ëª¨ë“œ

### Robot 2 (Robot 1ê³¼ ë™ì¼ êµ¬ì¡°)
- `startX2`, `startY2`, `startZ2`, `endX2`, `endY2`, `endZ2`
- `startThickness2`, `endThickness2`, `length2`, `weldingLeg2`
- `workAngle2`, `weldingMacroType2`, `macroNumber2`, ...

---

## âš™ï¸ ê³ ê¸‰ ì˜µì…˜

### ì„¤ì • íŒŒì¼ ì˜µì…˜

```json
{
  "preset": "image_format",

  "output_settings": {
    "format": "csv",
    "encoding": "utf-8-sig",     // Excel í˜¸í™˜ (BOM í¬í•¨)
    "delimiter": ",",
    "include_header": true,
    "output_dir": "extracted_data"
  },

  "processing_options": {
    "merge_all_girders": false,  // trueì‹œ ì „ì²´ í†µí•© íŒŒì¼ ìƒì„±
    "separate_by_date": true,
    "skip_empty_files": true
  }
}
```

### ì „ì²´ í†µí•© íŒŒì¼ ìƒì„±

**`parse_config.json` ìˆ˜ì •:**
```json
{
  "processing_options": {
    "merge_all_girders": true
  }
}
```

ì‹¤í–‰ í›„ ìƒì„±ë¨:
```
extracted_data/
â”œâ”€â”€ 1ê±°ë”_20260202.csv
â”œâ”€â”€ 2ê±°ë”_20260202.csv
â”œâ”€â”€ 3ê±°ë”_20260202.csv
â””â”€â”€ ì „ì²´í†µí•©_20260207_111345.csv  â† ëª¨ë“  ë°ì´í„° í†µí•©
```

---

## ğŸ“‚ ì¶œë ¥ íŒŒì¼ êµ¬ì¡°

### íŒŒì¼ëª… ê·œì¹™
```
{ê±°ë”ë²ˆí˜¸}_{ë‚ ì§œ}.csv
```

ì˜ˆì‹œ:
- `1ê±°ë”_20260202.csv` - Bë¼ì¸1ë²ˆê±°ë”, 2026ë…„ 2ì›” 2ì¼
- `2ê±°ë”_20260204.csv` - Bë¼ì¸2ë²ˆê±°ë”, 2026ë…„ 2ì›” 4ì¼

### CSV êµ¬ì¡° ì˜ˆì‹œ (image_format)

```csv
requestId,í˜¸ê¸°ì •ë³´,startX1,startY1,startZ1,endX1,endY1,endZ1,startThickness1,endThickness1,length1,weldingLeg1,startX2,startY2,startZ2,endX2,endY2,endZ2,startThickness2,endThickness2,length2,weldingLeg2
587411,Bë¼ì¸1ë²ˆê±°ë”,3499.56,2218.074,2.662,2571.629,2204.345,2.895,12,12,928.032,4.5,3499.737,2206.076,2.663,2571.807,2192.347,2.896,12,12,928.032,4.5
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Q: CSV íŒŒì¼ì´ Excelì—ì„œ í•œê¸€ì´ ê¹¨ì ¸ìš”
**A:** ê¸°ë³¸ ì„¤ì •(`utf-8-sig`)ì´ë©´ ë¬¸ì œì—†ìŠµë‹ˆë‹¤. ë§Œì•½ ê¹¨ì§„ë‹¤ë©´:
```json
"output_settings": {
  "encoding": "cp949"  // ë˜ëŠ” "euc-kr"
}
```

### Q: íŠ¹ì • í•„ë“œê°€ ë¹„ì–´ìˆì–´ìš” (None)
**A:** í•´ë‹¹ ë¡œê·¸ ë°ì´í„°ì— í•´ë‹¹ í•„ë“œê°€ ì—†ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì •ìƒì…ë‹ˆë‹¤.

### Q: í•„ë“œ ìˆœì„œë¥¼ ë°”ê¾¸ê³  ì‹¶ì–´ìš”
**A:** `custom_fields` ë°°ì—´ì˜ ìˆœì„œë¥¼ ë³€ê²½í•˜ë©´ CSV ì»¬ëŸ¼ ìˆœì„œë„ ë³€ê²½ë©ë‹ˆë‹¤.

### Q: ë¡œê·¸ íŒŒì¼ì„ ì°¾ì§€ ëª»í•´ìš”
**A:** ë¡œê·¸ íŒŒì¼ ê²½ë¡œ í™•ì¸:
- `Bë¼ì¸1ë²ˆê±°ë”/02ì›”/04ì¼/rcs_20260204.log`
- `Bë¼ì¸2ë²ˆê±°ë”/2ì›”/04ì¼/rcs_20260204.log`
- `Bë¼ì¸3ë²ˆê±°ë”/02ì›”/04ì¼/rcs_20260204.log`

---

## ğŸ“ ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ

```
================================================================================
ìš©ì ‘ì„  ë°ì´í„° CSV ì¶”ì¶œ
================================================================================
ì„¤ì • íŒŒì¼: parse_config.json
ì„ íƒëœ í•„ë“œ: 22ê°œ
  requestId, í˜¸ê¸°ì •ë³´, startX1, startY1, startZ1, endX1, endY1, endZ1, ...

âœ… ì´ 15ê°œ ë¡œê·¸ íŒŒì¼ ë°œê²¬

ğŸ“‚ ì²˜ë¦¬ ì¤‘: Bë¼ì¸1ë²ˆê±°ë”/02ì›”/02ì¼/rcs_20260202.log
  âœ… 1ê±°ë”_20260202.csv (82í–‰, 22ì»¬ëŸ¼)

ğŸ“‚ ì²˜ë¦¬ ì¤‘: Bë¼ì¸1ë²ˆê±°ë”/02ì›”/03ì¼/rcs_20260203.log
  âœ… 1ê±°ë”_20260203.csv (116í–‰, 22ì»¬ëŸ¼)

...

================================================================================
ì²˜ë¦¬ ì™„ë£Œ!
================================================================================
ì²˜ë¦¬ëœ íŒŒì¼: 15ê°œ
ì´ ë°ì´í„° í–‰: 5,875ê°œ
ì¶œë ¥ ë””ë ‰í† ë¦¬: extracted_data
```

---

## ğŸ“ ì¶”ê°€ í•™ìŠµ

### ëª…ë ¹ì¤„ ì˜µì…˜ ì „ì²´

```bash
python3 parse_to_csv.py --help
```

### íŒŒì¼ êµ¬ì¡°
```
weld-line-check/
â”œâ”€â”€ parse_to_csv.py           # ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ parse_field_definitions.py        # í•„ë“œ ì •ì˜
â”œâ”€â”€ parse_config.json           # ì„¤ì • íŒŒì¼
â”œâ”€â”€ CSVì¶”ì¶œê°€ì´ë“œ.md            # ì´ ë¬¸ì„œ
â””â”€â”€ extracted_data/             # ì¶œë ¥ ë””ë ‰í† ë¦¬
    â”œâ”€â”€ 1ê±°ë”_20260202.csv
    â””â”€â”€ ...
```

---

## ğŸ’¡ íŒ

1. **Excelì—ì„œ ì—´ ë•Œ**: ì¸ì½”ë”© `utf-8-sig` ì‚¬ìš© (ê¸°ë³¸ê°’)
2. **ëŒ€ìš©ëŸ‰ ë°ì´í„°**: `merge_all_girders: false` ìœ ì§€ (ê°œë³„ íŒŒì¼ì´ ë¹ ë¦„)
3. **í•„ë“œ ì„ íƒ**: í•„ìš”í•œ ê²ƒë§Œ ì„ íƒí•˜ì—¬ íŒŒì¼ í¬ê¸° ìµœì†Œí™”
4. **í”„ë¦¬ì…‹ í™œìš©**: ìì£¼ ì‚¬ìš©í•˜ëŠ” í•„ë“œ ì¡°í•©ì„ í”„ë¦¬ì…‹ìœ¼ë¡œ ì €ì¥

---

## ğŸ“ ì§€ì›

ë¬¸ì œ ë°œìƒ ì‹œ:
1. `--list-fields`ë¡œ í•„ë“œëª… í™•ì¸
2. ì„¤ì • íŒŒì¼ JSON êµ¬ë¬¸ ê²€ì¦
3. ë¡œê·¸ íŒŒì¼ ê²½ë¡œ í™•ì¸
4. Python ë²„ì „ í™•ì¸ (`python3 --version`)
