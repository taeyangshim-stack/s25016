<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>투영거리 vs 대각거리 비교 분석</title>
<style>
body { font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; line-height: 1.6; margin: 20px; background-color: #f5f5f5; }
.container { max-width: 1400px; margin: 0 auto; background-color: white; padding: 30px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
.header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; text-align: center; margin: -30px -30px 30px -30px; border-radius: 10px 10px 0 0; }
.summary { background-color: #d4edda; padding: 25px; margin: 25px 0; border-left: 6px solid #28a745; border-radius: 5px; }
.comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
.method-card { padding: 25px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.projection { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; }
.diagonal { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
.fail-case { border: 2px solid #ddd; margin: 20px 0; padding: 20px; background-color: #fff; border-radius: 8px; }
.false-positive { border: 3px solid #ffc107; background: #fff3cd; }
.fail-header { background-color: #ffc107; color: #000; padding: 15px; margin: -20px -20px 20px -20px; border-radius: 8px 8px 0 0; font-weight: bold; }
.girder-section { margin: 30px 0; padding: 25px; background: #f8f9fa; border-radius: 10px; }
.pass { color: #28a745; font-weight: bold; }
.fail { color: #dc3545; font-weight: bold; }
.warning { background-color: #fff3cd; padding: 20px; margin: 20px 0; border-left: 6px solid #ffc107; border-radius: 5px; }
.critical { background-color: #ffc107; color: #000; padding: 20px; margin: 20px 0; border-radius: 5px; font-weight: bold; }
.highlight { background-color: #28a745; padding: 3px 8px; border-radius: 3px; color: #fff; font-weight: bold; }
.highlight-bad { background-color: #dc3545; padding: 3px 8px; border-radius: 3px; color: #fff; font-weight: bold; }
table { border-collapse: collapse; width: 100%; margin: 15px 0; }
th { background-color: #495057; color: white; padding: 12px; text-align: left; }
td { padding: 10px; border-bottom: 1px solid #ddd; background: white; }
tr:hover { background-color: #f5f5f5; }
h1 { margin: 0; font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
h2 { color: #495057; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-top: 30px; }
h3 { margin: 10px 0; }
.key-finding { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; padding: 25px; border-radius: 10px; margin: 25px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
.metric { display: inline-block; padding: 8px 15px; margin: 5px; background: rgba(255,255,255,0.2); border-radius: 5px; }
.false-positive-box { background: #fff3cd; border: 3px solid #ffc107; padding: 20px; margin: 15px 0; border-radius: 8px; }
</style>
</head>
<body>

<div class="container">

<div class="header">
<h1>🔬 투영거리 vs 대각거리 비교 분석</h1>
<p style="font-size: 1.3em; margin-top: 15px;">용접선 검증 방식의 적정성 검증</p>
<p style="opacity: 0.9; margin-top: 10px;">생성일시: 2026-02-07</p>
</div>

<div class="key-finding">
<h2 style="color: white; border: none; margin-top: 0;">🎯 핵심 결론</h2>
<p style="font-size: 1.2em; margin: 15px 0;">
<strong>대각거리 방식(2가지 검사)</strong>은 <span class="highlight-bad">너무 엄격</span>하여 정상적인 작업도 FAIL로 처리하지만,<br>
<strong>투영거리 방식(7가지 검사)</strong>은 <span class="highlight">적절한 기준</span>으로 정상 작업을 PASS로 처리합니다.
</p>
<div style="margin-top: 20px;">
<span class="metric">7가지(투영): 2개 FAIL - 적정 기준</span>
<span class="metric">2가지(대각): 5개 FAIL (+3개 과검출)</span>
</div>
</div>

<div class="comparison">
<div class="method-card projection">
<h3>✅ 투영거리 방식 (7가지 검사) - 권장</h3>
<ul style="margin-top: 15px;">
<li>점을 선에 투영하여 거리 측정</li>
<li>용접선의 방향성을 고려한 합리적 기준</li>
<li><strong>2거더 정상 작업을 PASS 처리</strong></li>
<li>총 2개 FAIL (실제 문제만 검출)</li>
</ul>
</div>

<div class="method-card diagonal">
<h3>❌ 대각거리 방식 (2가지 검사) - 비권장</h3>
<ul style="margin-top: 15px;">
<li>점과 점 사이의 직선거리 측정</li>
<li>용접선 방향 무시, 과도하게 엄격</li>
<li><strong>2거더 정상 작업을 FAIL 처리 (오검출)</strong></li>
<li>총 5개 FAIL (정상 3개 포함)</li>
</ul>
</div>
</div>

<!-- 1거더 분석 -->
<div class="girder-section">
<h2>📊 1거더_2026-02-04 (실제 문제 있는 케이스)</h2>
<table>
<tr>
<th>검사 방식</th>
<th>FAIL 케이스</th>
<th>결과</th>
</tr>
<tr style="background: #d4edda;">
<td><strong>투영거리 (7가지 검사)</strong></td>
<td>2개</td>
<td><span class='pass'>✓ 적정 (실제 문제 정확히 검출)</span></td>
</tr>
<tr>
<td><strong>대각거리 (2가지 검사)</strong></td>
<td>2개</td>
<td><span class='pass'>✓ 동일 (동일한 문제 검출)</span></td>
</tr>
</table>

<div style="background: #e7f3ff; padding: 15px; margin: 15px 0; border-left: 5px solid #2196F3; border-radius: 5px;">
<strong>ℹ️ 분석:</strong> 1거더의 경우 두 방식 모두 동일하게 2개의 문제를 검출합니다.
이는 실제로 심각한 오차가 있는 케이스로, 두 방식 모두 정확히 탐지합니다.
</div>

<h3>🔍 실제 문제 케이스 (RequestID: 653438)</h3>
<div class="fail-case">
<table>
<tr>
<th>검사 방식</th>
<th>시작점 변위</th>
<th>끝점 변위</th>
<th>결과</th>
</tr>
<tr>
<td><strong>투영거리 (7가지)</strong></td>
<td>100.50 mm</td>
<td>10.00 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
</tr>
<tr>
<td><strong>대각거리 (2가지)</strong></td>
<td>100.50 mm</td>
<td>10.00 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
</tr>
</table>
<p><strong>분석:</strong> 시작점 변위 100mm는 명백한 오류입니다. 두 방식 모두 정확히 검출합니다.</p>
</div>

<h3>🔍 실제 문제 케이스 (RequestID: 657739)</h3>
<div class="fail-case">
<table>
<tr>
<th>검사 방식</th>
<th>시작점 변위</th>
<th>끝점 변위</th>
<th>결과</th>
</tr>
<tr>
<td><strong>투영거리 (7가지)</strong></td>
<td>1821.47 mm</td>
<td>1871.17 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
</tr>
<tr>
<td><strong>대각거리 (2가지)</strong></td>
<td>1821.47 mm</td>
<td>1871.17 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
</tr>
</table>
<p><strong>분석:</strong> 로봇들이 반대 방향으로 이동하는 심각한 오류입니다. 두 방식 모두 정확히 검출합니다.</p>
<div class="critical">🚨 각도차 180°, 1800mm 이상 변위 - 긴급 조치 필요!</div>
</div>
</div>

<!-- 2거더 분석 -->
<div class="girder-section">
<h2>📊 2거더_2026-02-02 (정상 작업 케이스)</h2>
<table>
<tr>
<th>검사 방식</th>
<th>FAIL 케이스</th>
<th>결과</th>
</tr>
<tr style="background: #d4edda;">
<td><strong>투영거리 (7가지 검사)</strong></td>
<td>0개</td>
<td><span class='pass'>✓ 적정 (정상 작업을 PASS 처리)</span></td>
</tr>
<tr style="background: #f8d7da;">
<td><strong>대각거리 (2가지 검사)</strong></td>
<td>3개</td>
<td><span class='fail'>✗ 과검출 (정상을 FAIL 처리)</span></td>
</tr>
</table>

<div class="warning">
<strong>⚠️ 대각거리 방식의 문제점</strong><br>
대각거리 방식은 2거더의 정상 작업 3건을 FAIL로 오판했습니다.<br>
이는 <strong>너무 엄격한 기준</strong>으로 인한 과검출(False Positive)입니다.
</div>

<h3>🔍 과검출 케이스 분석 (False Positive)</h3>

<!-- 케이스 1 -->
<div class="fail-case false-positive">
<div class="fail-header">
⚠️ False Positive #1 - RequestID: 935689
</div>

<table>
<tr>
<th>검사 방식</th>
<th>시작점 변위</th>
<th>끝점 변위</th>
<th>결과</th>
<th>판정</th>
</tr>
<tr style="background: #d4edda;">
<td><strong>투영거리 (7가지)</strong></td>
<td>0.00 mm</td>
<td>0.00 mm</td>
<td><span class='pass'>PASS ✓</span></td>
<td><strong>정상</strong></td>
</tr>
<tr style="background: #f8d7da;">
<td><strong>대각거리 (2가지)</strong></td>
<td>20.00 mm</td>
<td>20.00 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
<td><strong>오검출</strong></td>
</tr>
</table>

<h4>■ 원시 좌표 (로우데이터):</h4>
<table>
<tr><th>Robot</th><th>시작점 (mm)</th><th>끝점 (mm)</th></tr>
<tr><td><strong>Robot1</strong></td><td>(1619.47, 1559.93, 5.48)</td><td>(1083.64, 1581.25, 4.71)</td></tr>
<tr><td><strong>Robot2</strong></td><td>(1599.47, 1559.93, 5.48)</td><td>(1063.64, 1581.25, 4.71)</td></tr>
</table>

<h4>■ 좌표 차이 (ΔX, ΔY, ΔZ):</h4>
<table>
<tr><th>위치</th><th>ΔX (mm)</th><th>ΔY (mm)</th><th>ΔZ (mm)</th></tr>
<tr><td><strong>시작점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
<tr><td><strong>끝점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
</table>

<div class="false-positive-box">
<strong>💡 분석:</strong><br>
<ul>
<li>두 로봇이 <strong>완전히 평행하게 이동</strong> (Y축 변화량 동일: 21.32mm)</li>
<li>X축으로 정확히 20mm 간격 유지 (이것이 정상 작업 간격)</li>
<li>투영거리: 0mm (선에 대한 수직 거리가 없음) → <span class="pass">PASS ✓</span></li>
<li>대각거리: 20mm (점 사이 직선거리) → <span class="fail">FAIL ✗ (경계값)</span></li>
<li><strong>결론: 정상적인 평행 작업을 대각거리가 오판</strong></li>
</ul>
</div>
</div>

<!-- 케이스 2 -->
<div class="fail-case false-positive">
<div class="fail-header">
⚠️ False Positive #2 - RequestID: 942873
</div>

<table>
<tr>
<th>검사 방식</th>
<th>시작점 변위</th>
<th>끝점 변위</th>
<th>결과</th>
<th>판정</th>
</tr>
<tr style="background: #d4edda;">
<td><strong>투영거리 (7가지)</strong></td>
<td>0.00 mm</td>
<td>0.00 mm</td>
<td><span class='pass'>PASS ✓</span></td>
<td><strong>정상</strong></td>
</tr>
<tr style="background: #f8d7da;">
<td><strong>대각거리 (2가지)</strong></td>
<td>20.00 mm</td>
<td>20.00 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
<td><strong>오검출</strong></td>
</tr>
</table>

<h4>■ 원시 좌표 (로우데이터):</h4>
<table>
<tr><th>Robot</th><th>시작점 (mm)</th><th>끝점 (mm)</th></tr>
<tr><td><strong>Robot1</strong></td><td>(2299.47, 1614.93, 5.98)</td><td>(1763.64, 1636.25, 5.21)</td></tr>
<tr><td><strong>Robot2</strong></td><td>(2279.47, 1614.93, 5.98)</td><td>(1743.64, 1636.25, 5.21)</td></tr>
</table>

<h4>■ 좌표 차이 (ΔX, ΔY, ΔZ):</h4>
<table>
<tr><th>위치</th><th>ΔX (mm)</th><th>ΔY (mm)</th><th>ΔZ (mm)</th></tr>
<tr><td><strong>시작점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
<tr><td><strong>끝점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
</table>

<div class="false-positive-box">
<strong>💡 분석:</strong> 첫 번째 케이스와 동일한 패턴 (완전 평행 이동, X축 20mm 간격)
</div>
</div>

<!-- 케이스 3 -->
<div class="fail-case false-positive">
<div class="fail-header">
⚠️ False Positive #3 - RequestID: 944483
</div>

<table>
<tr>
<th>검사 방식</th>
<th>시작점 변위</th>
<th>끝점 변위</th>
<th>결과</th>
<th>판정</th>
</tr>
<tr style="background: #d4edda;">
<td><strong>투영거리 (7가지)</strong></td>
<td>0.00 mm</td>
<td>0.00 mm</td>
<td><span class='pass'>PASS ✓</span></td>
<td><strong>정상</strong></td>
</tr>
<tr style="background: #f8d7da;">
<td><strong>대각거리 (2가지)</strong></td>
<td>20.00 mm</td>
<td>20.00 mm</td>
<td><span class='fail'>FAIL ✗</span></td>
<td><strong>오검출</strong></td>
</tr>
</table>

<h4>■ 원시 좌표 (로우데이터):</h4>
<table>
<tr><th>Robot</th><th>시작점 (mm)</th><th>끝점 (mm)</th></tr>
<tr><td><strong>Robot1</strong></td><td>(2451.47, 1624.93, 6.15)</td><td>(1915.64, 1646.25, 5.38)</td></tr>
<tr><td><strong>Robot2</strong></td><td>(2431.47, 1624.93, 6.15)</td><td>(1895.64, 1646.25, 5.38)</td></tr>
</table>

<h4>■ 좌표 차이 (ΔX, ΔY, ΔZ):</h4>
<table>
<tr><th>위치</th><th>ΔX (mm)</th><th>ΔY (mm)</th><th>ΔZ (mm)</th></tr>
<tr><td><strong>시작점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
<tr><td><strong>끝점</strong></td><td><strong>20.00</strong></td><td>0.00</td><td>0.00</td></tr>
</table>

<div class="false-positive-box">
<strong>💡 분석:</strong> 동일 패턴 반복 (정상적인 평행 작업)
</div>
</div>

</div>

<!-- 결론 -->
<div class="key-finding">
<h2 style="color: white; border: none; margin-top: 0;">💡 결론 및 권장사항</h2>

<h3 style="color: white; margin-top: 20px;">1. 대각거리 방식의 근본적 문제점</h3>
<ul>
<li>용접선의 <strong>방향성을 무시</strong>하고 단순히 점 사이 거리만 측정</li>
<li>두 로봇이 <strong>정상적으로 평행 작업</strong>하는 경우도 FAIL로 오판 (False Positive)</li>
<li>2거더의 3개 케이스는 모두 <strong>X축 20mm 간격의 정상 작업</strong>이었으나 경계값으로 FAIL 처리</li>
<li>실제 작업에서는 로봇 간격이 정확히 20mm일 수 있으며, 이는 정상</li>
</ul>

<h3 style="color: white; margin-top: 20px;">2. 투영거리 방식의 우수성</h3>
<ul>
<li>용접선의 <strong>방향을 고려</strong>하여 합리적으로 판정</li>
<li>평행하게 이동하는 정상 작업은 PASS, 실제 오차만 FAIL 처리</li>
<li>1거더의 심각한 오류(100mm, 1800mm 변위)는 정확히 검출</li>
<li>2거더의 정상 작업은 적절하게 PASS 처리</li>
</ul>

<h3 style="color: white; margin-top: 20px;">3. 권장사항</h3>
<ul>
<li><strong>✅ 투영거리 방식(7가지 검사) 유지</strong>: 정확하고 합리적인 검증</li>
<li><strong>❌ 대각거리 방식 비권장</strong>: 과검출로 인한 불필요한 작업 중단 우려</li>
<li><strong>✅ 현재 기준(20mm) 적정</strong>: 실제 문제는 검출하되 정상 작업은 허용</li>
<li><strong>🔍 1거더 문제 케이스 조치</strong>: RequestID 653438, 657739 긴급 점검</li>
</ul>

<h3 style="color: white; margin-top: 20px;">4. 기술적 설명</h3>
<p style="margin-top: 10px;">
두 로봇이 X축으로 20mm 떨어져서 평행하게 Y축 방향으로 이동하는 경우:
</p>
<ul>
<li><strong>대각거리:</strong> 시작점 거리 = 끝점 거리 = 20mm → 경계값 FAIL</li>
<li><strong>투영거리:</strong> 각 점을 상대 선에 투영했을 때 수직거리 = 0mm → PASS</li>
<li><strong>결론:</strong> 투영거리가 용접선 검증에 더 적합한 지표</li>
</ul>
</div>

<div style="margin-top: 30px; padding: 20px; background: #e9ecef; border-radius: 5px; text-align: center;">
<p style="color: #6c757d; margin: 0;"><strong>결론: 투영거리 방식(7가지 검사)이 더 적합합니다.</strong></p>
<p style="color: #6c757d; margin: 5px 0 0 0;">생성 시각: 2026-02-07</p>
</div>

</div>
</body>
</html>
