<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B_Line EventMessage ë¡œê·¸ ë¶„ì„ ë¦¬í¬íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .stat-card .number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-card .label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .robot-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .robot-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            border-left: 5px solid #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .robot-card h3 {
            color: #667eea;
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        .robot-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .info-item {
            background: white;
            padding: 15px;
            border-radius: 5px;
        }

        .info-item .label {
            font-size: 0.85em;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .info-item .value {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .timeline {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .timeline h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .date-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .date-badge {
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #667eea;
            border: 2px solid #667eea;
            font-weight: 500;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            transition: width 0.5s ease;
        }

        .chart-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th, td {
            padding: 15px;
            text-align: left;
        }

        tbody tr:nth-child(even) {
            background: #f8f9fa;
        }

        tbody tr:hover {
            background: #e9ecef;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-danger {
            background: #f8d7da;
            color: #721c24;
        }

        .footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            color: #6c757d;
            border-top: 1px solid #dee2e6;
        }

        .reload-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin-top: 20px;
            transition: transform 0.2s ease;
        }

        .reload-btn:hover {
            transform: scale(1.05);
        }

        #lastUpdate {
            font-style: italic;
            color: #6c757d;
            margin-top: 10px;
        }

        .tab-btn {
            flex: 1;
            padding: 20px;
            border: none;
            background: #ecf0f1;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            color: #555;
        }

        .tab-btn:hover {
            background: #d5dbdb;
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
            margin-bottom: -3px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .alarm-search {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .alarm-search input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #dee2e6;
            border-radius: 25px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .alarm-search input:focus {
            outline: none;
            border-color: #667eea;
        }

        .alarm-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }

        .alarm-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .alarm-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .alarm-code {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .alarm-count {
            background: #f8d7da;
            color: #721c24;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .alarm-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .alarm-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .alarm-meta {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            font-size: 0.9em;
            color: #6c757d;
        }

        .alarm-meta span {
            background: #e9ecef;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 15px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š B_Line EventMessage ë¡œê·¸ ë¶„ì„</h1>
            <p>S25016 í”„ë¡œì íŠ¸ - ë¡œë´‡ ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ ë¡œê·¸ í†µí•© ë¦¬í¬íŠ¸</p>
            <p id="lastUpdate">ë¡œë”© ì¤‘...</p>
        </div>

        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div style="background: #f8f9fa; border-bottom: 3px solid #667eea; display: flex;">
            <button class="tab-btn active" onclick="switchTab('stats')">ğŸ“Š í†µê³„</button>
            <button class="tab-btn" onclick="switchTab('alarms')">ğŸš¨ ì•ŒëŒ ì¢…ë¥˜</button>
        </div>

        <div class="content">
            <!-- í†µê³„ íƒ­ -->
            <div id="statsTab" class="tab-panel active">
                <!-- ì „ì²´ í†µê³„ ì¹´ë“œ -->
                <div class="stats-grid" id="statsGrid">
                    <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                </div>

                <!-- í˜¸ê¸°ë³„ ìƒì„¸ ì •ë³´ -->
                <div class="section">
                    <h2>ğŸ¤– í˜¸ê¸°ë³„ ìƒì„¸ í†µê³„</h2>
                    <div class="robot-cards" id="robotCards">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>

                <!-- ë°ì´í„° í’ˆì§ˆ ë¶„ì„ -->
                <div class="section">
                    <h2>ğŸ“ˆ ë°ì´í„° í’ˆì§ˆ ë¶„ì„</h2>
                    <div class="chart-container">
                        <h3>íŒŒì¼ ë°ì´í„° ë¹„ìœ¨</h3>
                        <div id="qualityBars">
                            <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                        </div>
                    </div>
                </div>

                <!-- ë‚ ì§œë³„ í™œë™ -->
                <div class="section">
                    <h2>ğŸ“… ë‚ ì§œë³„ ë¡œê·¸ í™œë™</h2>
                    <table id="dateTable">
                        <thead>
                            <tr>
                                <th>ë‚ ì§œ</th>
                                <th>ì´ íŒŒì¼</th>
                                <th>ì—ëŸ¬</th>
                                <th>ì •ë³´</th>
                                <th>ë¹ˆ íŒŒì¼</th>
                                <th>í™œë™ í˜¸ê¸°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ì•ŒëŒ ì¢…ë¥˜ íƒ­ -->
            <div id="alarmsTab" class="tab-panel">
                <div class="section">
                    <h2>ğŸš¨ ë°œìƒí•œ ì•ŒëŒ ì¢…ë¥˜</h2>

                    <!-- ì•ŒëŒ í†µê³„ ìš”ì•½ -->
                    <div class="stats-grid" id="alarmStatsGrid">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>

                    <!-- ê²€ìƒ‰ ë° í•„í„° -->
                    <div class="alarm-search">
                        <input type="text" id="alarmSearchInput" placeholder="ğŸ” ì•ŒëŒ ì½”ë“œ ë˜ëŠ” ì œëª©ìœ¼ë¡œ ê²€ìƒ‰..." onkeyup="searchAlarms()">
                    </div>

                    <div class="filter-buttons" id="robotFilters">
                        <button class="filter-btn active" onclick="filterByRobot('all')">ì „ì²´</button>
                        <button class="filter-btn" onclick="filterByRobot('1í˜¸ê¸°')">1í˜¸ê¸°</button>
                        <button class="filter-btn" onclick="filterByRobot('2í˜¸ê¸°')">2í˜¸ê¸°</button>
                        <button class="filter-btn" onclick="filterByRobot('3í˜¸ê¸°')">3í˜¸ê¸°</button>
                    </div>

                    <!-- ì•ŒëŒ ëª©ë¡ -->
                    <div id="alarmsList">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>
            </div>

            <div class="footer">
                <p><strong>S25016 B_Line EventMessage ë¶„ì„ ì‹œìŠ¤í…œ</strong></p>
                <p>34bay ìë™ìš©ì ‘ Aë¼ì¸/Bë¼ì¸ - ë¡œë´‡ ë¡œê·¸ í†µí•© ê´€ë¦¬</p>
                <button class="reload-btn" onclick="loadData()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
            </div>
        </div>
    </div>

    <script>
        let alarmData = null;
        let currentFilter = 'all';

        async function loadData() {
            try {
                // ë¡œê·¸ í†µê³„ ë°ì´í„°
                const response = await fetch('B_Line_EventMessage/analysis/log_analysis_latest.json');
                const data = await response.json();

                // ì•ŒëŒ ë°ì´í„°
                const alarmResponse = await fetch('B_Line_EventMessage/analysis/alarm_analysis_latest.json');
                alarmData = await alarmResponse.json();

                // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
                const scanTime = new Date(data.scan_time);
                document.getElementById('lastUpdate').textContent =
                    `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${scanTime.toLocaleString('ko-KR')}`;

                // ì „ì²´ í†µê³„ ì¹´ë“œ
                renderStatsCards(data.summary);

                // í˜¸ê¸°ë³„ ì¹´ë“œ
                renderRobotCards(data.by_robot);

                // ë°ì´í„° í’ˆì§ˆ
                renderQualityBars(data.by_robot);

                // ë‚ ì§œë³„ í…Œì´ë¸”
                renderDateTable(data.by_date);

                // ì•ŒëŒ ë°ì´í„° ë Œë”ë§
                renderAlarmStats(alarmData.summary);
                renderAlarmsList(alarmData.alarms);

            } catch (error) {
                console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                alert('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”.');
            }
        }

        function switchTab(tabName) {
            // íƒ­ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // íƒ­ íŒ¨ë„ ì „í™˜
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });

            if (tabName === 'stats') {
                document.getElementById('statsTab').classList.add('active');
            } else if (tabName === 'alarms') {
                document.getElementById('alarmsTab').classList.add('active');
            }
        }

        function renderStatsCards(summary) {
            const statsGrid = document.getElementById('statsGrid');
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <h3>ì´ ë¡œê·¸ íŒŒì¼</h3>
                    <div class="number">${summary.total_files.toLocaleString()}</div>
                    <div class="label">ê°œ</div>
                </div>
                <div class="stat-card">
                    <h3>ë°ì´í„° íŒŒì¼</h3>
                    <div class="number">${summary.files_with_data.toLocaleString()}</div>
                    <div class="label">${(summary.files_with_data / summary.total_files * 100).toFixed(1)}%</div>
                </div>
                <div class="stat-card">
                    <h3>ë¹ˆ íŒŒì¼</h3>
                    <div class="number">${summary.empty_files.toLocaleString()}</div>
                    <div class="label">${summary.empty_ratio.toFixed(1)}%</div>
                </div>
                <div class="stat-card">
                    <h3>ì´ ìš©ëŸ‰</h3>
                    <div class="number">${summary.total_size_mb.toFixed(1)}</div>
                    <div class="label">MB</div>
                </div>
            `;
        }

        function renderRobotCards(byRobot) {
            const robotCards = document.getElementById('robotCards');
            robotCards.innerHTML = '';

            for (const [robotName, stats] of Object.entries(byRobot)) {
                const dataRatio = (stats.files_with_data / stats.total_files * 100).toFixed(1);
                const sizeInMB = (stats.total_size / 1024 / 1024).toFixed(1);

                const card = document.createElement('div');
                card.className = 'robot-card';
                card.innerHTML = `
                    <h3>${robotName}</h3>
                    <div class="robot-info">
                        <div class="info-item">
                            <div class="label">ì´ íŒŒì¼</div>
                            <div class="value">${stats.total_files}</div>
                        </div>
                        <div class="info-item">
                            <div class="label">ë°ì´í„° íŒŒì¼</div>
                            <div class="value">${stats.files_with_data}</div>
                        </div>
                        <div class="info-item">
                            <div class="label">ì—ëŸ¬ ë¡œê·¸</div>
                            <div class="value">${stats.errors}</div>
                        </div>
                        <div class="info-item">
                            <div class="label">ì •ë³´ ë¡œê·¸</div>
                            <div class="value">${stats.infos}</div>
                        </div>
                    </div>
                    <div class="timeline">
                        <h3>ğŸ“… í™œë™ ë‚ ì§œ (${stats.dates.length}ì¼)</h3>
                        <div class="date-badges">
                            ${stats.dates.slice(0, 10).map(date =>
                                `<span class="date-badge">${formatDate(date)}</span>`
                            ).join('')}
                            ${stats.dates.length > 10 ? '<span class="date-badge">...</span>' : ''}
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <div style="font-size: 0.9em; color: #6c757d; margin-bottom: 5px;">
                            ë°ì´í„° í’ˆì§ˆ: ${dataRatio}% (${sizeInMB} MB)
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${dataRatio}%">${dataRatio}%</div>
                        </div>
                    </div>
                `;
                robotCards.appendChild(card);
            }
        }

        function renderQualityBars(byRobot) {
            const container = document.getElementById('qualityBars');
            container.innerHTML = '';

            for (const [robotName, stats] of Object.entries(byRobot)) {
                const dataRatio = (stats.files_with_data / stats.total_files * 100).toFixed(1);
                const emptyRatio = (stats.empty_files / stats.total_files * 100).toFixed(1);

                const bar = document.createElement('div');
                bar.style.marginBottom = '20px';
                bar.innerHTML = `
                    <h4 style="margin-bottom: 10px; color: #667eea;">${robotName}</h4>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <div style="flex: 1;">
                            <div style="font-size: 0.85em; color: #6c757d; margin-bottom: 5px;">
                                ë°ì´í„°: ${stats.files_with_data} / ë¹ˆ íŒŒì¼: ${stats.empty_files}
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${dataRatio}%">
                                    ${dataRatio}%
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(bar);
            }
        }

        function renderDateTable(byDate) {
            const tbody = document.querySelector('#dateTable tbody');
            tbody.innerHTML = '';

            // ë‚ ì§œ ì—­ìˆœ ì •ë ¬
            const sortedDates = Object.entries(byDate).reverse();

            for (const [date, stats] of sortedDates) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${formatDate(date)}</strong></td>
                    <td>${stats.total}</td>
                    <td><span class="badge badge-danger">${stats.errors}</span></td>
                    <td><span class="badge badge-success">${stats.infos}</span></td>
                    <td>${stats.empty > 0 ? `<span class="badge badge-warning">${stats.empty}</span>` : '-'}</td>
                    <td>${stats.robots.length}í˜¸ê¸° (${stats.robots.map(r => r.charAt(0)).join(', ')})</td>
                `;
                tbody.appendChild(row);
            }
        }

        function formatDate(dateStr) {
            // YYMMDD -> YYYY-MM-DD
            if (dateStr.length === 6) {
                const year = '20' + dateStr.substring(0, 2);
                const month = dateStr.substring(2, 4);
                const day = dateStr.substring(4, 6);
                return `${year}-${month}-${day}`;
            }
            return dateStr;
        }

        function renderAlarmStats(summary) {
            const statsGrid = document.getElementById('alarmStatsGrid');
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <h3>ê³ ìœ  ì•ŒëŒ ì¢…ë¥˜</h3>
                    <div class="number">${summary.total_alarm_types}</div>
                    <div class="label">ê°œ</div>
                </div>
                <div class="stat-card">
                    <h3>ì´ ë°œìƒ íšŸìˆ˜</h3>
                    <div class="number">${summary.total_occurrences.toLocaleString()}</div>
                    <div class="label">íšŒ</div>
                </div>
                <div class="stat-card">
                    <h3>ìµœë‹¤ ë°œìƒ ì•ŒëŒ</h3>
                    <div class="number" style="font-size: 1.5em;">${summary.top_5_alarms[0]?.event_code || 'N/A'}</div>
                    <div class="label">${summary.top_5_alarms[0]?.title || 'N/A'}</div>
                </div>
                <div class="stat-card">
                    <h3>ë°œìƒ íšŸìˆ˜</h3>
                    <div class="number">${summary.top_5_alarms[0]?.count || 0}</div>
                    <div class="label">íšŒ</div>
                </div>
            `;
        }

        function renderAlarmsList(alarms) {
            const container = document.getElementById('alarmsList');
            container.innerHTML = '';

            alarms.forEach(alarm => {
                const card = document.createElement('div');
                card.className = 'alarm-card';
                card.dataset.robots = alarm.robots.join(',');
                card.dataset.eventCode = alarm.event_code;
                card.dataset.title = alarm.title.toLowerCase();

                const robotBadges = alarm.robots.map(r => {
                    const robotNum = r.charAt(0);
                    return `<span>${robotNum}í˜¸ê¸°</span>`;
                }).join('');

                card.innerHTML = `
                    <div class="alarm-header">
                        <span class="alarm-code">CODE ${alarm.event_code}</span>
                        <span class="alarm-count">${alarm.count}íšŒ ë°œìƒ</span>
                    </div>
                    <div class="alarm-title">${alarm.title || 'ì œëª© ì—†ìŒ'}</div>
                    <div class="alarm-description">${alarm.description || 'ìƒì„¸ ì„¤ëª… ì—†ìŒ'}</div>
                    <div class="alarm-meta">
                        ${robotBadges}
                        <span>ğŸ“… ${alarm.dates.length}ì¼ ë°œìƒ</span>
                        <span>ìµœê·¼: ${formatDate(alarm.dates[alarm.dates.length - 1])}</span>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        function searchAlarms() {
            const searchTerm = document.getElementById('alarmSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.alarm-card');

            cards.forEach(card => {
                const eventCode = card.dataset.eventCode.toLowerCase();
                const title = card.dataset.title;

                if (eventCode.includes(searchTerm) || title.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterByRobot(robot) {
            currentFilter = robot;

            // í•„í„° ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            const cards = document.querySelectorAll('.alarm-card');

            cards.forEach(card => {
                const robots = card.dataset.robots;

                if (robot === 'all' || robots.includes(robot)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¡œë“œ
        loadData();
    </script>
</body>
</html>
