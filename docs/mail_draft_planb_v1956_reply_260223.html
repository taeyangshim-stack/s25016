<!DOCTYPE html>
<html>
<head><meta charset="utf-8"></head>
<body style="font-family:'맑은 고딕','Malgun Gothic',sans-serif; font-size:10pt; color:#333; line-height:1.7; max-width:860px; margin:0 auto;">

<div style="border-bottom:3px solid #1a5276; padding-bottom:10px; margin-bottom:20px;">
  <h2 style="color:#1a5276; margin:0;">Re: [S25016] PlanB v1.9.56 — C팀 1차 회신 반영 종합 보고</h2>
  <p style="margin:5px 0 0 0; font-size:9pt; color:#666;">v1.9.53 diff + v1.9.54 #8 가드 + v1.9.55 버퍼교환/BreadthOffset + v1.9.56 #6 Phase1 에러핸들링 + #7 단계안 + 스왑검증</p>
</div>

<table style="width:100%; border-collapse:collapse; margin-bottom:20px; font-size:9.5pt;">
  <tr><td style="width:60px; padding:4px 8px; background:#f0f4f8; font-weight:bold;">수신</td><td style="padding:4px 8px;">C팀</td></tr>
  <tr><td style="padding:4px 8px; background:#f0f4f8; font-weight:bold;">참조</td><td style="padding:4px 8px;">이마룬</td></tr>
  <tr><td style="padding:4px 8px; background:#f0f4f8; font-weight:bold;">발신</td><td style="padding:4px 8px;">심태양 / 에스피시스템스</td></tr>
  <tr><td style="padding:4px 8px; background:#f0f4f8; font-weight:bold;">일자</td><td style="padding:4px 8px;">2026년 2월 23일</td></tr>
</table>

<p>안녕하십니까, 에스피시스템스 심태양입니다.</p>
<p>C팀 1차 회신(#6~#8 의견 + 추가 확인 3건 + 자료 요청 3건) 확인하였습니다.<br>
아래에 <b>요청하신 전 항목</b>을 정리하여 회신드립니다.</p>

<!-- ============================== -->
<!-- 1. v1.9.53 diff -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">
  1. v1.9.53 수정 Diff (#1, #4)
</h3>

<p style="font-size:9pt; color:#666;">C팀 요청: 「v1.9.53 수정 diff (#1, #4)」</p>

<!-- diff #1 -->
<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#c0392b; margin:0 0 10px 0;">#1 BUG FIX — welddata/seamdata par4↔par6 매핑 (BuildArcParams)</h4>
  <p style="font-size:8.5pt; color:#666; margin:0 0 8px 0;">파일: MainModule.mod BuildArcParams() / 근거: PlanA Rob1_MainModule.mod L708</p>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8; overflow-x:auto;">
    <span style="color:#95a5a6;">! welddata: weld_heat mapping</span><br>
    &nbsp;&nbsp;weld1.weld_heat.par1 := 5;<br>
    &nbsp;&nbsp;weld1.weld_heat.par3 := macroStartBuffer1{pass}.Voltage;<br>
    <span style="color:#e74c3c;">- weld1.weld_heat.par4 := macroStartBuffer1{pass}.Current; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! v1.9.52 BUG</span><br>
    <span style="color:#e74c3c;">- weld1.weld_heat.par6 := macroStartBuffer1{pass}.FeedingSpeed; ! v1.9.52 BUG</span><br>
    <span style="color:#2ecc71;">+ weld1.weld_heat.par4 := macroStartBuffer1{pass}.FeedingSpeed; ! v1.9.53 FIX (WFS)</span><br>
    <span style="color:#2ecc71;">+ weld1.weld_heat.par6 := macroStartBuffer1{pass}.Current; &nbsp;&nbsp;&nbsp;&nbsp;! v1.9.53 FIX (Amp)</span><br>
    <br>
    <span style="color:#95a5a6;">! seamdata: s_heat / e_heat (동일 수정 3개소)</span><br>
    <span style="color:#e74c3c;">- seam1.s_heat.par4 := ...Current; &nbsp;&nbsp;→</span> <span style="color:#2ecc71;">+ seam1.s_heat.par4 := ...FeedingSpeed;</span><br>
    <span style="color:#e74c3c;">- seam1.s_heat.par6 := ...FeedingSpeed; →</span> <span style="color:#2ecc71;">+ seam1.s_heat.par6 := ...Current;</span><br>
    <span style="color:#e74c3c;">- seam1.e_heat.par4 := ...Current; &nbsp;&nbsp;→</span> <span style="color:#2ecc71;">+ seam1.e_heat.par4 := ...FeedingSpeed;</span><br>
    <span style="color:#e74c3c;">- seam1.e_heat.par6 := ...FeedingSpeed; →</span> <span style="color:#2ecc71;">+ seam1.e_heat.par6 := ...Current;</span>
  </div>

  <table style="width:100%; border-collapse:collapse; font-size:9pt; margin-top:10px;">
    <tr style="background:#fbeee6;">
      <th style="padding:5px 8px; text-align:left; width:90px;">구분</th>
      <th style="padding:5px 8px; text-align:center;">par4</th>
      <th style="padding:5px 8px; text-align:center;">par6</th>
      <th style="padding:5px 8px; text-align:center;">영향 범위</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; color:#c0392b; font-weight:bold;">v1.9.52</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#fadbd8;">Current ✗</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#fadbd8;">WFS ✗</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">weld_heat, s_heat, e_heat</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; color:#1a7a2e; font-weight:bold;">v1.9.53</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#d5f5e3;">WFS ✓</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#d5f5e3;">Current ✓</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">weld_heat, s_heat, e_heat</td>
    </tr>
  </table>
</div>

<!-- diff #4 -->
<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#c0392b; margin:0 0 10px 0;">#4 BUG FIX — weavedata DwellLeft/DwellRight 필드 위치 (BuildArcParams)</h4>
  <p style="font-size:8.5pt; color:#666; margin:0 0 8px 0;">파일: MainModule.mod BuildArcParams() / 근거: PlanA Rob1_MainModule.mod L720</p>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8; overflow-x:auto;">
    <span style="color:#95a5a6;">! weavedata: [shape, type, len, width, pos5, pos6, pos7, pos8, ...]</span><br>
    <span style="color:#95a5a6;">! ABB 표준: pos5=height(0), pos6=dwellL, pos7=dir(0), pos8=dwellR</span><br><br>
    <span style="color:#e74c3c;">- ! v1.9.52: pos5=DwellL, pos6=DwellR (2칸 앞으로 밀림)</span><br>
    <span style="color:#e74c3c;">- weave1_rob1 := [Shape, Type, Len, Width,</span><br>
    <span style="color:#e74c3c;">- &nbsp;&nbsp;DwellLeft, DwellRight, 0, 0, &nbsp;&nbsp;&nbsp;! ← BUG</span><br>
    <span style="color:#e74c3c;">- &nbsp;&nbsp;0,0,0,0,0,0,0];</span><br><br>
    <span style="color:#2ecc71;">+ ! v1.9.53: pos5=0(height), pos6=DwellL, pos7=0(dir), pos8=DwellR</span><br>
    <span style="color:#2ecc71;">+ weave1_rob1 := [Shape, Type, Len, Width,</span><br>
    <span style="color:#2ecc71;">+ &nbsp;&nbsp;0, DwellLeft, 0, DwellRight, &nbsp;! ← FIX (PlanA 동일)</span><br>
    <span style="color:#2ecc71;">+ &nbsp;&nbsp;0,0,0,0,0,0,0];</span>
  </div>

  <table style="width:100%; border-collapse:collapse; font-size:9pt; margin-top:10px;">
    <tr style="background:#fbeee6;">
      <th style="padding:5px 8px; text-align:left; width:90px;">구분</th>
      <th style="padding:5px 8px; text-align:center;">pos5</th>
      <th style="padding:5px 8px; text-align:center;">pos6</th>
      <th style="padding:5px 8px; text-align:center;">pos7</th>
      <th style="padding:5px 8px; text-align:center;">pos8</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; color:#c0392b; font-weight:bold;">v1.9.52</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#fadbd8;">DwellL ✗</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#fadbd8;">DwellR ✗</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#999;">0</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#999;">0</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; color:#1a7a2e; font-weight:bold;">v1.9.53</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#999;">0 (height)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#d5f5e3;">DwellL ✓</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#999;">0 (dir)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; background:#d5f5e3;">DwellR ✓</td>
    </tr>
  </table>
</div>

<!-- ============================== -->
<!-- 2. v1.9.54 #8 구현 보고 -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">
  2. #8 배열 범위 하드 가드 — <span style="background:#1a7a2e; color:#fff; padding:2px 8px; border-radius:3px; font-size:9pt;">v1.9.54 구현 완료</span>
</h3>

<p style="font-size:9pt; color:#666;">C팀 권고: 「최대 pass 10 하드 가드 권고, 10 초과 입력 시 즉시 에러 처리」 → <b>즉시 반영</b></p>

<div style="background:#d4efdf; border:2px solid #27ae60; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#1a7a2e; margin:0 0 10px 0;">구현 내역 (v1.9.54, 2026-02-24)</h4>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#eaf2f8;">
      <th style="padding:5px 8px; text-align:left; width:50px;">#</th>
      <th style="padding:5px 8px; text-align:left; width:160px;">파일 / 위치</th>
      <th style="padding:5px 8px; text-align:left;">내용</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">A</td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>ConfigModule.mod</code> L190</td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>CONST num MAX_WELD_PASSES := 10;</code> 상수 추가</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">B</td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>MainModule.mod</code> L4770-4781</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">TraceWeldLine 진입부 가드<br>
        <code>IF nWeldPassCount &lt; 1 OR &gt; MAX_WELD_PASSES</code><br>
        → TPWrite + 로그 + ErrWrite + <b>RAISE ERR_ARGVALERR</b></td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">C</td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>MainModule.mod</code> L4674-4679</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">BuildArcParams 진입부 가드<br>
        <code>IF pass &lt; 1 OR pass &gt; MAX_WELD_PASSES</code><br>
        → ErrWrite + <b>RAISE ERR_ARGVALERR</b></td>
    </tr>
  </table>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8; margin-top:10px;">
    <span style="color:#95a5a6;">! ConfigModule.mod — 상수 정의</span><br>
    CONST num MAX_WELD_PASSES := 10;<br><br>
    <span style="color:#95a5a6;">! TraceWeldLine — FOR 루프 진입 전 가드</span><br>
    IF nWeldPassCount &lt; 1 OR nWeldPassCount &gt; MAX_WELD_PASSES THEN<br>
    &nbsp;&nbsp;TPWrite "[TRACE] ERROR: nWeldPassCount=" + NumToStr(nWeldPassCount,0);<br>
    &nbsp;&nbsp;Write trace_log, "ABORT: nWeldPassCount exceeds MAX_WELD_PASSES";<br>
    &nbsp;&nbsp;Close trace_log;<br>
    &nbsp;&nbsp;RAISE ERR_ARGVALERR;<br>
    ENDIF<br><br>
    <span style="color:#95a5a6;">! BuildArcParams — 배열 접근 전 가드</span><br>
    IF pass &lt; 1 OR pass &gt; MAX_WELD_PASSES THEN<br>
    &nbsp;&nbsp;ErrWrite \W, "BuildArcParams guard", "pass out of range";<br>
    &nbsp;&nbsp;RAISE ERR_ARGVALERR;<br>
    ENDIF
  </div>
</div>

<!-- #8 검증 계획 -->
<div style="background:#eaf2f8; border:1px solid #aed6f1; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#2471a3; margin:0 0 8px 0;">v1.9.54 검증 계획 (RobotStudio)</h4>
  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#d6eaf8;">
      <th style="padding:5px 8px; text-align:center; width:50px;">TC</th>
      <th style="padding:5px 8px; text-align:left;">테스트 조건</th>
      <th style="padding:5px 8px; text-align:center; width:100px;">기대 결과</th>
      <th style="padding:5px 8px; text-align:left;">검증 방법</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">T1</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">nWeldPassCount = 1 (정상 최소)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e;">PASS</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">1-pass 용접 정상 완료</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">T2</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">nWeldPassCount = 10 (정상 최대)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e;">PASS</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">10-pass 루프 완주, 배열 접근 정상</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">T3</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">nWeldPassCount = 0 (하한 위반)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">REJECT</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">TPWrite 에러 + ERR_ARGVALERR, FOR 진입 안 함</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">T4</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">nWeldPassCount = 11 (상한 위반)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">REJECT</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">TPWrite 에러 + ERR_ARGVALERR, 배열 접근 차단</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">T5</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">nWeldPassCount = -1 (음수)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">REJECT</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">T3과 동일 경로 — 하한 가드 작동</td>
    </tr>
  </table>
  <p style="font-size:8.5pt; color:#666; margin:8px 0 0 0;">
    검증 방법: RobotStudio 가상 컨트롤러에서 nWeldPassCount PERS 값 변경 후 TraceWeldLine 실행.<br>
    FlexPendant TPWrite 출력 + HOME:/trace_weld_line.txt 로그로 결과 확인.
  </p>
</div>

<!-- ============================== -->
<!-- 3. #6 에러 핸들링 예정안 -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">
  3. #6 ArcL 에러 핸들링 — <span style="background:#1a7a2e; color:#fff; padding:2px 8px; border-radius:3px; font-size:9pt;">Phase 1 v1.9.56 구현 완료</span>
</h3>

<p style="font-size:9pt; color:#666;">C팀 권고: 「PlanA rArcError 핵심 동작을 실용접 전 반영 권고」 → <b>Phase 1 즉시 반영 완료</b></p>

<!-- PlanA 분석 -->
<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#2471a3; margin:0 0 8px 0;">PlanA rArcError() 분석 결과</h4>
  <p style="font-size:9pt; margin:0 0 10px 0;">
    파일: <code>Rob1_MainModule.mod</code> L2357-2395 (PlanA 가동 시스템)
  </p>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#eaf2f8;">
      <th style="padding:5px 8px; text-align:center; width:40px;">순서</th>
      <th style="padding:5px 8px; text-align:left; width:180px;">동작</th>
      <th style="padding:5px 8px; text-align:left;">코드</th>
      <th style="padding:5px 8px; text-align:center; width:70px;">PlanB 현황</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">1</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">아크 OFF 플래그</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">bArc_On{1}:=FALSE;</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">2</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">Robot2 정지 신호</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">PulseDO sdo_T_Rob2_StopProc</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">3</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">인터럽트 해제 + 타이머 정지</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">IDelete; ClkStop</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">4</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">StopMove → ClearPath → StartMove</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">모션 버퍼 클리어</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.56</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">5</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">에러 DO 신호</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Set po36_ArcR1Error / po37</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">6</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">에러 위치 기록</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">CRobT → 로그 기록</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.56</td>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">7</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">토치 10mm 후퇴</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">MoveL RelTool(pErrPos,0,0,-10)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.56</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">8</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">3-Task 동기화 (Wait{80~82})</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">WaitSyncTask × 3 + stReact 확인</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b; font-weight:bold;">미구현</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">9</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">상위시스템 확인 대기</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">WaitUntil stCommand="Error_Arc_Touch"</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">10</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">ExitCycle</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Reset po14; Set po15; Stop; ExitCycle</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b;">미구현</td>
    </tr>
  </table>
</div>

<!-- Phase 1 구현 완료 -->
<div style="background:#d4efdf; border:2px solid #27ae60; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#1a7a2e; margin:0 0 10px 0;">Phase 1 구현 내역 (v1.9.56, 2026-02-23)</h4>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8;">
    <span style="color:#95a5a6;">! TraceWeldLine ERROR handler (v1.9.56)</span><br>
    ERROR<br>
    &nbsp;&nbsp;TPWrite "[TRACE] ERROR: ERRNO=" + NumToStr(ERRNO,0);<br>
    &nbsp;&nbsp;Write trace_log, "ERROR ERRNO=" + NumToStr(ERRNO,0);<br><br>
    <span style="color:#95a5a6;">! Step 1: Motion safety stop (PlanA L2365-2367)</span><br>
    &nbsp;&nbsp;<span style="color:#2ecc71; font-weight:bold;">StopMove;</span><br>
    &nbsp;&nbsp;<span style="color:#2ecc71; font-weight:bold;">ClearPath;</span><br>
    &nbsp;&nbsp;<span style="color:#2ecc71; font-weight:bold;">StartMove;</span><br><br>
    <span style="color:#95a5a6;">! Step 2: Capture error position</span><br>
    &nbsp;&nbsp;<span style="color:#2ecc71;">pErrPos := CRobT(\Tool:=tWeld1\WObj:=WobjFloor);</span><br>
    &nbsp;&nbsp;Write trace_log, "Error pos=[" + NumToStr(...);<br><br>
    <span style="color:#95a5a6;">! Step 3: Torch retract -10mm (PlanA L2379)</span><br>
    &nbsp;&nbsp;<span style="color:#2ecc71; font-weight:bold;">MoveL RelTool(pErrPos, 0, 0, -10), v100, z0, tWeld1\WObj:=WobjFloor;</span><br><br>
    &nbsp;&nbsp;Close trace_log;<br>
    &nbsp;&nbsp;Stop;
  </div>
</div>

<!-- 이식 계획 (Phase 2~3 남은 부분) -->
<div style="background:#fff3cd; border:2px solid #ffc107; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#856404; margin:0 0 10px 0;">PlanB 이식 계획 (3단계)</h4>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#fbeee6;">
      <th style="padding:5px 8px; text-align:center; width:60px;">단계</th>
      <th style="padding:5px 8px; text-align:left; width:120px;">버전 목표</th>
      <th style="padding:5px 8px; text-align:left;">구현 범위</th>
      <th style="padding:5px 8px; text-align:center; width:70px;">상태</th>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">Phase 1</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">v1.9.56</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>모션 안전 정지</b>: StopMove → ClearPath → StartMove<br>
        에러 위치 캡처(CRobT → 로그)<br>
        토치 후퇴(RelTool -10mm) + Stop
      </td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">구현 완료</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">Phase 2</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">v1.9.57</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>에러 신호 + 상태 기록</b>: DO 신호(po36/37), 에러 위치 캡처<br>
        bRobSwap 기반 신호 분기(PlanA 동일)<br>
        로그 파일 기록 강화
      </td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#e67e22; font-weight:bold;">높음</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">Phase 3</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">v1.9.58+</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>크로스태스크 동기화</b>: WaitSyncTask(Wait{80~82}), stReact 상태머신<br>
        TASK2(Robot2) 연동 — #7 Robot2 ArcL 구현과 동시 진행<br>
        상위시스템 stCommand 핸드셰이크
      </td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#2471a3;">중간</td>
    </tr>
  </table>

  <p style="font-size:8.5pt; color:#666; margin:10px 0 0 0;">
    <b>Phase 1 구현 완료</b> — 시뮬레이션 단계에서 ArcL 에러 시 안전하게 정지됩니다.<br>
    Phase 2~3은 #7(Robot2 범위) 결정에 연동하여 일정 조율 예정.
  </p>
</div>

<!-- ============================== -->
<!-- 4. #7 Robot2 구현 선택안 및 일정 -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">
  4. #7 Robot2 ArcL — 구현 선택안 및 일정
</h3>

<p style="font-size:9pt; color:#666;">C팀 권고: 「단계적 적용 권고 (1단계 Robot1 안정화, 2단계 Robot2 동시 ArcL 적용)」 → <b>동의</b></p>

<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#eaf2f8;">
      <th style="padding:5px 8px; text-align:center; width:60px;">단계</th>
      <th style="padding:5px 8px; text-align:left; width:150px;">내용</th>
      <th style="padding:5px 8px; text-align:left;">범위</th>
      <th style="padding:5px 8px; text-align:center; width:80px;">진행 상태</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">1단계</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">Robot1 단독 안정화</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        ArcLStart/ArcL/ArcLEnd 단독 시퀀스<br>
        스왑 검증 (시나리오 A~E)<br>
        에러 핸들링 Phase 1~2 (#6)
      </td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#e67e22; font-weight:bold;">진행 중</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">2단계</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold;">Robot2 ArcL 확장</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        TASK2 MainModule에 ArcL 시퀀스 이식<br>
        Robot2용 weld2/seam2/weave2 인스턴스 생성<br>
        SyncMove + WaitSyncTask 동기화 (PlanA 방식)
      </td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#999;">1단계 완료 후</td>
    </tr>
  </table>
  <p style="font-size:8.5pt; color:#666; margin:8px 0 0 0;">
    C팀 권고대로 <b>단계적 적용</b> 방향으로 진행합니다. 1단계 Robot1 안정화 완료 후 2단계 일정을 협의하겠습니다.
  </p>
</div>

<!-- ============================== -->
<!-- 5. 스왑 버퍼교환 + BreadthOffset — v1.9.55 구현 완료 -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">
  5. 스왑 버퍼 교환 + BreadthOffset 부호 반전 — <span style="background:#1a7a2e; color:#fff; padding:2px 8px; border-radius:3px; font-size:9pt;">v1.9.55 구현 완료</span>
</h3>

<p style="font-size:9pt; color:#666;">C팀 요청: 「macroAutoStartB 버퍼 교환 / BreadthOffset 부호 반전 PlanA 동일 여부」<br>
→ 코드 검토 결과 PlanA 대비 차이 2건 발견, <b>RAPID 측에서 처리하는 것으로 확정</b>하여 v1.9.55에서 즉시 구현하였습니다.</p>

<!-- 5-1 버퍼 교환 -->
<div style="background:#d4efdf; border:2px solid #27ae60; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#1a7a2e; margin:0 0 10px 0;">
    5-1. 버퍼 교환 — <span style="background:#1a7a2e; color:#fff; padding:2px 8px; border-radius:3px; font-size:8pt;">v1.9.55 수정 완료</span>
  </h4>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#fbeee6;">
      <th style="padding:5px 8px; text-align:left; width:100px;">구분</th>
      <th style="padding:5px 8px; text-align:left;">스왑 시 버퍼 사용</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold; color:#1a7a2e;">PlanA</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        bRobSwap=FALSE → Robot1은 macroAutoStart<b>A</b> 사용<br>
        bRobSwap=TRUE → Robot1은 macroAutoStart<b>B</b> 사용 (버퍼 교환)
      </td>
    </tr>
    <tr style="background:#fadbd8;">
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold; color:#c0392b;">v1.9.54 이전</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        bRobSwap 무관 → <b>항상 macroStartBuffer1 사용</b> (버퍼 교환 없음)
      </td>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold; color:#1a7a2e;">v1.9.55</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        bRobSwap=FALSE → macroStartBuffer<b>1</b> / macroEndBuffer<b>1</b> 사용<br>
        bRobSwap=TRUE → macroStartBuffer<b>2</b> / macroEndBuffer<b>2</b> 사용 <b>(PlanA 동일)</b>
      </td>
    </tr>
  </table>

  <p style="font-size:9pt; margin:10px 0 0 0;">
    <b>적용 범위 (3개 PROC):</b>
  </p>
  <table style="width:100%; border-collapse:collapse; font-size:9pt; margin-top:5px;">
    <tr style="background:#eaf2f8;">
      <th style="padding:4px 8px; text-align:left; width:160px;">프로시저</th>
      <th style="padding:4px 8px; text-align:left;">변경 내용</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>TraceWeldLine</code></td>
      <td style="padding:4px 8px; border:1px solid #ddd;">패스 루프 진입 시 <code>curStart/curEnd</code> 로컬 변수로 버퍼 선택</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>GenerateWeldPath</code></td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>curMacro</code> 로컬 변수 — TravelAngle/WorkingAngle/WeldingSpeed 참조</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>BuildArcParams</code></td>
      <td style="padding:4px 8px; border:1px solid #ddd;"><code>curStart/curEnd</code> — welddata/seamdata/weavedata 전체 빌드</td>
    </tr>
  </table>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8; margin-top:10px;">
    <span style="color:#95a5a6;">! v1.9.55: 각 PROC 진입부에서 스왑별 버퍼 선택</span><br>
    IF bRobSwap = FALSE THEN<br>
    &nbsp;&nbsp;curStart := macroStartBuffer1{pass};<br>
    &nbsp;&nbsp;curEnd &nbsp;&nbsp;:= macroEndBuffer1{pass};<br>
    ELSE<br>
    &nbsp;&nbsp;curStart := macroStartBuffer<span style="color:#2ecc71; font-weight:bold;">2</span>{pass};<br>
    &nbsp;&nbsp;curEnd &nbsp;&nbsp;:= macroEndBuffer<span style="color:#2ecc71; font-weight:bold;">2</span>{pass};<br>
    ENDIF
  </div>
</div>

<!-- 5-2 BreadthOffset -->
<div style="background:#d4efdf; border:2px solid #27ae60; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#1a7a2e; margin:0 0 10px 0;">
    5-2. BreadthOffset 부호 반전 — <span style="background:#1a7a2e; color:#fff; padding:2px 8px; border-radius:3px; font-size:8pt;">v1.9.55 수정 완료</span>
  </h4>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#fbeee6;">
      <th style="padding:5px 8px; text-align:left; width:100px;">구분</th>
      <th style="padding:5px 8px; text-align:left;">스왑 시 BreadthOffset 처리</th>
    </tr>
    <tr style="background:#fadbd8;">
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold; color:#c0392b;">v1.9.54 이전</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        bRobSwap 무관 → Y += BreadthOffset (직접 가산, 부호 반전 없음)
      </td>
    </tr>
    <tr style="background:#d5f5e3;">
      <td style="padding:4px 8px; border:1px solid #ddd; font-weight:bold; color:#1a7a2e;">v1.9.55</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        bRobSwap=FALSE (A-side) → Y += <b>+BreadthOffset</b><br>
        bRobSwap=TRUE (B-side) → Y += <b>-BreadthOffset</b> (부호 반전)
      </td>
    </tr>
  </table>

  <div style="background:#2c3e50; color:#ecf0f1; padding:12px; border-radius:4px; font-family:Consolas,'Courier New',monospace; font-size:8.5pt; line-height:1.8; margin-top:10px;">
    <span style="color:#95a5a6;">! v1.9.55: TraceWeldLine — 스왑 시 BreadthOffset 부호 반전</span><br>
    IF bRobSwap = FALSE THEN<br>
    &nbsp;&nbsp;adjStart.y := calcPosStart.y <span style="color:#2ecc71;">+</span> curStart.BreadthOffset;<br>
    &nbsp;&nbsp;adjEnd.y &nbsp;&nbsp;:= calcPosEnd.y &nbsp;&nbsp;<span style="color:#2ecc71;">+</span> curEnd.BreadthOffset;<br>
    ELSE<br>
    &nbsp;&nbsp;adjStart.y := calcPosStart.y <span style="color:#e74c3c; font-weight:bold;">-</span> curStart.BreadthOffset;<br>
    &nbsp;&nbsp;adjEnd.y &nbsp;&nbsp;:= calcPosEnd.y &nbsp;&nbsp;<span style="color:#e74c3c; font-weight:bold;">-</span> curEnd.BreadthOffset;<br>
    ENDIF
  </div>

  <p style="font-size:8.5pt; color:#666; margin:8px 0 0 0;">
    <b>물리적 의미:</b> Robot1이 A-side(기본)에서 B-side(스왑)로 전환되면,<br>
    용접선 중심 기준 수직 방향(Y)의 오프셋이 반대 방향이 됩니다.
  </p>
</div>

<!-- ============================== -->
<!-- 6. 시나리오 A~E 시뮬레이션 계획 -->
<!-- ============================== -->
<h3 style="color:#2471a3; border-left:4px solid #2471a3; padding-left:10px; margin-top:30px;">
  6. 시나리오 A~E 시뮬레이션 진행 계획
</h3>

<p style="font-size:9pt; color:#666;">C팀 요청: 「시나리오 A~E 결과표 (bRobSwap, rot, TravelAngle, 버퍼소스, 궤적 캡처)」</p>

<!-- 테스트 데이터 설정 방법 -->
<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#2471a3; margin:0 0 8px 0;">테스트 데이터 설정 (RobotStudio 가상 컨트롤러)</h4>
  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#eaf2f8;">
      <th style="padding:5px 8px; text-align:center; width:60px;">시나리오</th>
      <th style="padding:5px 8px; text-align:left;">calcPosStart / calcPosEnd (Floor 좌표)</th>
      <th style="padding:5px 8px; text-align:center; width:90px;">각도 (ATan2)</th>
      <th style="padding:5px 8px; text-align:center; width:70px;">bRobSwap</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">A (0°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Start=[5000,5000,500] End=[5500,5000,500]</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">0°</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">FALSE</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">B (45°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Start=[5000,5000,500] End=[5354,5354,500]</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">45°</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">FALSE</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">C (90°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Start=[5000,5000,500] End=[5000,5500,500]</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">90°</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b; font-weight:bold;">TRUE</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">D (135°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Start=[5000,5000,500] End=[4646,5354,500]</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">135°</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b; font-weight:bold;">TRUE</td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">E (200°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; font-family:Consolas; font-size:8pt;">Start=[5000,5000,500] End=[4529,4829,500]</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center;">-160° (=200°)</td>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; color:#c0392b; font-weight:bold;">TRUE</td>
    </tr>
  </table>
</div>

<!-- 시뮬레이션 방법 -->
<div style="background:#eaf2f8; border:1px solid #aed6f1; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#2471a3; margin:0 0 8px 0;">시뮬레이션 진행 방법</h4>

  <table style="width:100%; border-collapse:collapse; font-size:9pt;">
    <tr style="background:#d6eaf8;">
      <th style="padding:5px 8px; text-align:center; width:40px;">순서</th>
      <th style="padding:5px 8px; text-align:left;">절차</th>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">1</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>PERS 변수 설정</b> — RobotStudio FlexPendant에서 직접 수정<br>
        calcPosStart, calcPosEnd → 시나리오별 좌표<br>
        nWeldPassCount := 1 (단일 패스)<br>
        macroStartBuffer1{1}: V=36.5, WFS=230, A=380, WeldSpeed=100
      </td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">2</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>WELD_ARC_ENABLED := FALSE</b> (MoveL 모드) 상태에서 1차 실행<br>
        → 궤적만 확인 (아크 없이 모션만 동작)
      </td>
    </tr>
    <tr>
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">3</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>실행 및 로그 수집</b><br>
        DefineWeldLine → GenerateWeldPath → TraceWeldLine 순서 실행<br>
        TPWrite 출력 + HOME:/trace_weld_line.txt 로그 수집
      </td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">4</td>
      <td style="padding:4px 8px; border:1px solid #ddd;">
        <b>결과 기록</b> — 각 시나리오별 아래 항목 채움<br>
        RobotStudio 3D 궤적 캡처 (스크린샷)
      </td>
    </tr>
  </table>
</div>

<!-- 결과표 템플릿 -->
<div style="background:#f8f9fa; border:1px solid #dee2e6; border-radius:6px; padding:15px; margin:15px 0;">
  <h4 style="color:#2471a3; margin:0 0 8px 0;">결과표 템플릿 (시나리오별 기록 예정)</h4>
  <table style="width:100%; border-collapse:collapse; font-size:8.5pt;">
    <tr style="background:#1a5276; color:#fff;">
      <th style="padding:5px 6px; text-align:center; width:50px;">시나리오</th>
      <th style="padding:5px 6px; text-align:center;">bRobSwap</th>
      <th style="padding:5px 6px; text-align:center;">rot (quaternion)</th>
      <th style="padding:5px 6px; text-align:center;">TravelAngle</th>
      <th style="padding:5px 6px; text-align:center;">버퍼소스</th>
      <th style="padding:5px 6px; text-align:center;">BreadthOffset</th>
      <th style="padding:5px 6px; text-align:center;">궤적 캡처</th>
      <th style="padding:5px 6px; text-align:center; width:60px;">판정</th>
    </tr>
    <tr>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; font-weight:bold;">A (0°)</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">실행 후 기록</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">—</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">—</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">—</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">—</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">첨부</td>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">—</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; font-weight:bold;">B (45°)</td>
      <td colspan="7" style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">실행 후 기록</td>
    </tr>
    <tr>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; font-weight:bold;">C (90°)</td>
      <td colspan="7" style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">실행 후 기록</td>
    </tr>
    <tr style="background:#f9f9f9;">
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; font-weight:bold;">D (135°)</td>
      <td colspan="7" style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">실행 후 기록</td>
    </tr>
    <tr>
      <td style="padding:4px 6px; border:1px solid #ddd; text-align:center; font-weight:bold;">E (200°)</td>
      <td colspan="7" style="padding:4px 6px; border:1px solid #ddd; text-align:center; color:#999;">실행 후 기록</td>
    </tr>
  </table>
  <p style="font-size:8.5pt; color:#666; margin:8px 0 0 0;">
    시뮬레이션 실행 후 결과표를 채워 별도 회신 예정입니다.
  </p>
</div>

<!-- ============================== -->
<!-- 종합 -->
<!-- ============================== -->
<h3 style="color:#1a5276; border-left:4px solid #1a5276; padding-left:10px; margin-top:30px;">종합 현황</h3>

<table style="width:100%; border-collapse:collapse; margin:10px 0; font-size:9pt;">
  <tr style="background:#1a5276; color:#fff;">
    <th style="padding:6px 8px; text-align:center; width:30px;">#</th>
    <th style="padding:6px 8px; text-align:left;">항목</th>
    <th style="padding:6px 8px; text-align:center; width:100px;">상태</th>
    <th style="padding:6px 8px; text-align:left; width:200px;">비고</th>
  </tr>
  <tr style="background:#d5f5e3;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center;">1</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">welddata par4↔par6</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.53 수정 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">diff 상기 참조</td>
  </tr>
  <tr>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center;">2</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">ArcL \WObj 지원</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">확인 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">—</td>
  </tr>
  <tr style="background:#f9f9f9;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center;">3</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">PowerPac 설치</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">확인 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">—</td>
  </tr>
  <tr style="background:#d5f5e3;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center;">4</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">weavedata DwellL/R</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.53 수정 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">diff 상기 참조</td>
  </tr>
  <tr>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center;">5</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">fine zone 적정성</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">확인 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">—</td>
  </tr>
  <tr style="background:#d5f5e3;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">6</td>
    <td style="padding:5px 8px; border:1px solid #ddd; font-weight:bold;">에러 핸들링</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">Phase 1 v1.9.56 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">Phase 2~3 추후 진행</td>
  </tr>
  <tr style="background:#eaf2f8;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">7</td>
    <td style="padding:5px 8px; border:1px solid #ddd; font-weight:bold;">Robot2 ArcL 범위</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#2471a3; font-weight:bold;">2단계안 합의</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">C팀 권고 수용 (단계적)</td>
  </tr>
  <tr style="background:#d5f5e3;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">8</td>
    <td style="padding:5px 8px; border:1px solid #ddd; font-weight:bold;">배열 범위 가드</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.54 구현 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">검증 계획 포함</td>
  </tr>
  <tr style="background:#d5f5e3;">
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; font-weight:bold;">5-1,2</td>
    <td style="padding:5px 8px; border:1px solid #ddd; font-weight:bold;">버퍼 교환 + BreadthOffset</td>
    <td style="padding:5px 8px; border:1px solid #ddd; text-align:center; color:#1a7a2e; font-weight:bold;">v1.9.55 구현 완료</td>
    <td style="padding:5px 8px; border:1px solid #ddd;">Buffer1↔2 교환 + Y부호 반전</td>
  </tr>
</table>

<div style="background:#eaf2f8; border:1px solid #aed6f1; border-radius:4px; padding:10px; margin:15px 0; font-size:9.5pt;">
  <b>첨부:</b> <code>SpGantry_1200_526406_v1.9.56_260223.zip_</code><br>
  v1.9.53 ~ v1.9.56 수정 포함 전체 백업입니다.<br>
  <span style="color:#c0392b;">※ 확장자 <code>.zip_</code>을 <code>.zip</code>으로 변경 후 사용하시기 바랍니다.</span>
</div>

<hr style="border:none; border-top:1px solid #ddd; margin:25px 0;">

<p style="font-size:9.5pt;">
<b>회신 요약:</b><br>
&bull; v1.9.53 diff(#1, #4) 코드 비교 첨부<br>
&bull; v1.9.54 #8 배열 하드 가드 구현 완료 + 검증 계획(TC T1~T5)<br>
&bull; v1.9.55 버퍼 교환 + BreadthOffset 부호 반전 즉시 구현 완료<br>
&bull; <b style="color:#1a7a2e;">v1.9.56 #6 Phase 1 에러 핸들링 구현 완료</b> (StopMove→ClearPath→토치 후퇴 -10mm)<br>
&bull; #7 Robot2 단계적 적용 방향 합의 (C팀 권고 수용)<br>
&bull; 스왑 검증 시나리오 A~E 시뮬레이션 계획 및 결과표 템플릿 공유
</p>

<p style="font-size:9.5pt;">
버퍼 교환(5-1), BreadthOffset(5-2), 에러 핸들링 Phase 1(#6)은 즉시 구현하였습니다.<br>
시뮬레이션 검증 시 해당 로직의 정합성을 함께 확인할 예정입니다.
</p>

<p style="font-size:9.5pt;">문의사항이 있으시면 말씀 부탁드립니다.<br>감사합니다.</p>

<div style="margin-top:20px; padding-top:10px; border-top:1px solid #ccc; font-size:8.5pt; color:#888;">
  심태양 / 에스피시스템스 개발팀<br>
  taeyang@spsystems.kr
</div>

</body>
</html>
