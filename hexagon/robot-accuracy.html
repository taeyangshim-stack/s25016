<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>로봇 정도측정 계획(안) — B라인 갠트리</title>
<style>
  :root {
    --fg:#0e1621; --fg-soft:#1d2a3a; --muted:#657189; --line:#e2e7ef; --surface:#f7f9fc;
    --accent:#0a7; --accent-ink:#085; --warn:#b35; --ok:#0a6; --code-bg:#f3f6fa;
  }
  html, body { margin:0; padding:0; color:var(--fg); font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif; background:#fff; }
  .wrap { max-width:1120px; margin:32px auto; padding:0 20px 72px; }
  .doc-header { padding:18px 16px; border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg, #f7fafc, #f6fffb); display:flex; align-items:center; justify-content:space-between; gap:12px; }
  h1 { font-size:26px; margin:0; letter-spacing:-0.2px; }
  h2 { font-size:20px; margin:28px 0 12px; }
  h3 { font-size:16px; margin:22px 0 10px; color:var(--muted); }
  p, li { line-height:1.65; }
  a { color:#0a68a7; text-decoration:none; }
  a:hover { text-decoration:underline; }
  .badge { display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; background:#e8fbf4; color:var(--accent-ink); border:1px solid #c8f1e5; }
  .meta { padding:12px 14px; border:1px solid var(--line); border-radius:12px; background:var(--surface); margin:14px 0 24px; }
  .meta b { display:inline-block; min-width:100px; color:var(--fg-soft); }
  .grid-2 { display:grid; grid-template-columns: 1fr 1fr; gap:18px; }
  .toc { border:1px solid var(--line); border-radius:12px; padding:12px 14px; background:#fff; margin:10px 0 24px; }
  .toc h3 { margin:0 0 8px; color:var(--fg-soft); }
  .toc a { color:var(--fg-soft); }
  table { width:100%; border-collapse:separate; border-spacing:0; margin:10px 0 24px; font-size:14px; background:#fff; border:1px solid var(--line); border-radius:12px; overflow:hidden; }
  th, td { border-bottom:1px solid var(--line); padding:10px 12px; text-align:center; vertical-align:middle; }
  thead th { background:#f2f7fb; font-weight:700; position:sticky; top:0; z-index:1; }
  tbody tr:nth-child(odd) { background:#fbfdff; }
  tbody tr:hover { background:#f2fbf7; }
  tfoot td { background:#fafafa; font-size:13px; color:var(--muted); text-align:left; }
  code, pre, kbd { background:var(--code-bg); border:1px solid #e2e7ef; border-radius:6px; padding:0 4px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
  .small { font-size:13px; color:var(--muted); }
  .box { border:1px solid var(--line); border-radius:12px; padding:12px 14px; margin:16px 0; background:#fff; }
  .tag { display:inline-block; padding:2px 8px; border-radius:999px; background:#eefaf6; color:#0a7; font-size:12px; margin-right:6px; border:1px solid #d6f4ea; }
  .note { border-left:4px solid var(--accent); padding:10px 14px; background:#f6fffb; margin:16px 0; }
  /* media / figures */
  figure.box.figure { text-align:center; }
  .figure img { max-width:720px; width:100%; height:auto; border:1px solid var(--line); border-radius:10px; background:#fff; }
  .figure figcaption { margin-top:6px; }
  /* placeholder figures */
  .ph-box { border:2px dashed var(--line); border-radius:12px; height:220px; display:flex; align-items:center; justify-content:center; background:#fff; color:var(--muted); padding:12px; text-align:center; }
  @media (min-width: 1200px) {
    .wrap { display:grid; grid-template-columns: 260px 1fr; gap:24px; }
    .sidebar { position:sticky; top:16px; height:max-content; }
    .main { min-width:0; }
  }
  @media print { body { background:#fff; } .wrap { display:block; margin:0; padding:0; } .no-print { display:none !important; } thead th { position:static; } .toc, .sidebar { display:none; } }
</style>
</head>
<body>
<div class="wrap">
  <div class="sidebar no-print">
    <div class="doc-header">
      <div>
        <h1>로봇 정도측정 계획(안)</h1>
        <div class="small" style="margin-top:4px; color:var(--muted)">B라인 갠트리 · 위치 정도 측정 및 검증</div>
      </div>
      <span id="doc-version-badge" class="badge">v0.14</span>
    </div>
    <div class="toc">
      <h3>목차</h3>
      <div class="small">
        <div><a href="#sec-0-terms">0. 용어 정리</a></div>
        <div><a href="#sec-1-purpose">1. 목적</a></div>
        <div><a href="#sec-2-scope">2. 측정 대상 및 범위</a></div>
        <div><a href="#sec-3-basics">3. 기준 및 방법</a></div>
        <div><a href="#sec-4-equipment">4. 측정 장비·교정 정보</a></div>
        <div><a href="#sec-5-environment">5. 환경 조건 기록</a></div>
        <div><a href="#sec-6-frames">6. 좌표계 정의·참조점</a></div>
        <div><a href="#sec-7-criteria">7. 합격 기준</a></div>
        <div><a href="#sec-8-method">8. 측정 방법</a></div>
        <div><a href="#sec-9-records">9. 데이터 기록표</a></div>
        <div><a href="#sec-10-summary">10. 결과 정리</a></div>
        <div><a href="#sec-11-signoff">11. 서명·이력</a></div>
        <div><a href="#sec-12-appendix">12. 부록</a></div>
        <div style="margin-top:8px"><a href="#revision">리비전/작업 이력</a></div>
      </div>
    </div>
  </div>
  <div class="main">
  <div class="meta">
    <div><b>작업 일시</b> 2025년 10월 1일 ~ 10월 2일</div>
    <div><b>작업 장소</b> 자동용접 갠트리 B라인</div>
    <div><b>대상 설비</b> 갠트리 3대(G1, G2, G3) × 로봇 2대(R1, R2) = 총 6대</div>
    <div><b>문서 버전</b> <span id="meta-version-text">v0.14</span> · <a href="#revision">변경 이력 보기</a></div>
  </div>

  <h2 id="sec-0-terms">0. 용어 정리</h2>
  <ul class="small">
    <li><b>GCS</b>: B라인 갠트리 3호기로 정의한 전역 좌표계(Global Coordinate System)</li>
    <li><b>O_R</b>: R축 회전센터(점)</li>
    <li><b>GCU</b>: 건 센터 유닛 기준점(측정 기준점). 문서 내에서는 <b>P_gcu</b>로 좌표를 표기</li>
    <li><b>P_ball</b>: 비전 캘리브레이션 구 중심점</li>
    <li><b>TCP</b>: 로봇 툴센터포인트</li>
    <li><b>N</b>: R축 회전 각도 샘플 수(권장 ≥ 8, 균등 분포)</li>
    <li><b>P_gcu</b>: GCU의 3D 좌표(측정/계산 결과)</li>
    <li><b>d_ref</b>: 기준거리, <code>d_ref = ||P_gcu − P_ball||</code></li>
  </ul>

  <h2 id="sec-1-purpose">1. 목적</h2>
  <p>3대 갠트리에 탑재된 로봇(R1 그룹 3대, R2 그룹 3대)에 대해 동일 목표 좌표 조건 하에서 위치 정도를 측정하여,
     로봇 및 시스템의 <b>신뢰성</b>을 검토한다.</p>

  <h2 id="sec-2-scope">2. 측정 대상 및 범위</h2>
  <ul>
    <li>대상: G1/G2/G3 각 갠트리의 R1, R2 로봇(총 6대)</li>
    <li>범위: 1차~4차 목표에 따른 <b>거리·좌표·자세</b> 검증 및 편차 평가</li>
  </ul>

  <h2 id="sec-3-basics">3. 기준 및 방법</h2>
  <div class="box">
    <span class="tag">기준면</span> R축 프레임 기준단을 기준면으로 사용<br />
    <span class="tag">좌표계</span> 기준면을 기준으로 <b>로봇 베이스 좌표계</b> 생성<br />
    <span class="tag">지그</span> 90° 단 브라켓 사용<br />
    <span class="tag">측정점</span> 목표점 T(1차), 공통점 P_common(4차) 중심으로 필요 지점만 측정<br />
    <span class="tag">반복</span> 동일 조건으로 최소 3회 반복 측정(평균 및 표준편차 산출 권장)
  </div>

  

  <h2 id="sec-4-equipment">4. 측정 장비·교정 정보</h2>
  <table aria-label="측정 장비 교정 정보">
    <thead>
      <tr><th>장비</th><th>모델</th><th>S/N</th><th>교정일</th><th>불확도</th><th>교정기관</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
      <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
      <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] 레이저 트래커와 SMR, R축 프레임 측면 브라켓 장착 사진(전경)</div>
    <figcaption class="small">그림 E1. 장비 구성 개요(트래커/SMR/브라켓)</figcaption>
  </figure>

  <h2 id="sec-5-environment">5. 환경 조건 기록</h2>
  <table aria-label="환경 조건 기록">
    <thead>
      <tr><th>항목</th><th>허용 범위</th><th>실측 값</th><th>판정</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td>온도</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>습도</td><td></td><td></td><td></td><td></td></tr>
      <tr><td>지면 진동</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>

  <div class="note">
    영향이 큰 경우 “보정 혹은 재측정” 기준을 현장 합의로 명시하십시오. (예: 온도 허용 초과 시 보정 후 재측정)
  </div>

  <h2 id="sec-6-frames">6. 좌표계 정의·참조점</h2>
  <div class="box" style="min-height:120px">
    <p class="small">기준면 도식(이미지/스케치), 원점 정의, RHR 방향, 측정 지그 위치 기준 등 상세 내용을 기입하십시오.</p>
  </div>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] GCS 정의 도식: 갠트리 평면, 원점, x/y 축 방향(+ 직교화), z축 오른손 좌표계</div>
    <figcaption class="small">그림 F1. GCS 정의 및 좌표축 방향</figcaption>
  </figure>

  <h2 id="sec-7-criteria">7. 합격 기준(허용오차)</h2>
  <table aria-label="합격 기준">
    <thead>
      <tr><th>항목</th><th>기준값</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td>축별 오차</td><td></td><td></td></tr>
      <tr><td>3D 거리 편차</td><td></td><td></td></tr>
      <tr><td>반복성(σ) 또는 범위(R)</td><td></td><td></td></tr>
    </tbody>
  </table>

  <h2 id="sec-8-method">8. 측정 방법(재정리)</h2>
  <h3>8.1 사전 준비 체크리스트</h3>
  <table aria-label="사전 준비 체크리스트">
    <thead>
      <tr><th>항목</th><th>상태</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td>작업 구역 안전통제(출입통제·표지)</td><td>□</td><td></td></tr>
      <tr><td>전원·비상정지·로봇 금지영역 설정</td><td>□</td><td></td></tr>
      <tr><td>지그·SMR·표적 고정체 점검(풀림 없음)</td><td>□</td><td></td></tr>
      <tr><td>트래커 워밍업/자체점검 완료</td><td>□</td><td></td></tr>
      <tr><td>장비 교정성적서 현장 비치</td><td>□</td><td></td></tr>
      <tr><td>환경 조건 기록(온도·습도·진동)</td><td>□</td><td></td></tr>
    </tbody>
  </table>

  <h3>8.2 단계별 수행(재정리)</h3>
  <ol>
    <li><b>O_R 산출(브라켓 + N각도 트래커 측정)</b>
      <ul>
        <li>R축 프레임 측면 브라켓에 SMR/표적을 고정</li>
        <li>R축을 −90°~+90° 범위에서 <b>N</b>개의 각도로 회전하며 표적 좌표 <code>P_i</code>를 트래커 좌표계(TCS)로 취득</li>
        <li>평면 적합 → 평면상 원 적합으로 중심 <code>C_c</code>와 반경 <code>r</code> 추정, <code>O_R = C_c</code> (현재는 TCS 좌표)</li>
        <li>품질기록: 적합 RMS, 최대편차, 샘플 수(N)</li>
      </ul>
    </li>
    <li><b>GCS 생성(갠트리 X/Y 기동 기반)</b>
      <ul>
        <li>갠트리 특정 위치에서 X축으로 직선 기동하여 점열을 취득 → 방향벡터 <code>\hat{x}</code> 계산</li>
        <li>동일 기준에서 Y축으로 직선 기동하여 점열을 취득 → 방향벡터 <code>\hat{y}</code> 계산</li>
        <li>직교화: <code>\hat{y}' = \hat{y} - (\hat{y}\cdot\hat{x})\hat{x}</code>, 정규화 후 <code>\hat{z} = \hat{x} \times \hat{y}'</code></li>
        <li>원점: 필요에 따라 <code>O_R</code> 또는 별도 기준점 선택. TCS→GCS 변환(<code>[R|t]</code>)을 구성</li>
        <li>검증: 기준점 재측정 재현성 확인(허용오차 이내)</li>
      </ul>
    </li>
    <li><b>1차 목표: GCU–비전 캘리브레이션 구 간 거리 계산</b>
      <ul>
        <li>비전 캘리브레이션 구 중심 <code>P_ball</code>과 GCU 기준점 <code>P_gcu</code>를 측정(TCS) 후 GCS로 변환</li>
        <li>기준거리 <code>d_ref = ||P_gcu − P_ball||</code> 계산 및 기록</li>
      </ul>
    </li>
    <li><b>1차 목표 검증: 기준거리 기반 TCP 이동 및 편차 평가</b>
      <ul>
        <li>로봇 TCP에 레이저 트래커(SMR) 장착</li>
        <li><code>||TCP − P_ball|| = d_ref</code>가 되도록 목표점 T를 산정·이동(기준거리만큼 TCP를 이동)</li>
        <li>팬던트 표시 TCP값과 트래커 실측(<code>TCP_meas</code>)을 비교하여 <code>Δd = | ||TCP_meas − P_ball|| − d_ref |</code> 및 축별/3D 편차 평가</li>
      </ul>
    </li>
    <li><b>2차 목표: 팬던트 O_R 값 평가(1/2/3호기)</b>
      <ul>
        <li>각 호기 컨트롤러가 보고하는 <code>O_R,pdt</code>와 트래커 기반 <code>O_R</code> 비교</li>
        <li>기록: ΔX, ΔY, ΔZ, 3D 오차, 판정(합/부)</li>
      </ul>
    </li>
    <li><b>3차 목표: 로봇 베이스 포인트 및 상호거리</b>
      <ul>
        <li>각 로봇의 1축 센터(로봇 베이스 포인트, <code>B_i(GCS)</code>) 측정</li>
        <li>갠트리 내 로봇 간 거리 <code>D_{ij}</code> 산출 후 설계치와 비교</li>
      </ul>
    </li>
    <li><b>4차 목표: 공통 자세 TCP 일치(팬던트 vs 트래커, R1↔R2)</b>
      <ul>
        <li>각 호기별 공통지점 <code>P_common</code>에서 R1과 R2를 동일 자세로 위치</li>
        <li>각 로봇의 <b>팬던트 TCP</b>와 <b>트래커 TCP_meas</b>를 모두 기록</li>
        <li>R1↔R2 간 <code>Δpos</code>, <code>Δori</code>를 트래커 기준으로 산출하고, 팬던트 값과의 차이도 참고</li>
      </ul>
    </li>
  </ol>

  <div class="note small">
    <b>참고 — 좌표계 설정 방식</b>
    <br />
    • <b>기동 기반</b>: 실기 축(X/Y) 직선 기동으로 축 방향을 정의하여 GCS를 구성(현장 실무에 적합).
    <br />
    • <b>트래커 3점</b>: GCS에서 좌표가 알려진 3개 비공선 기준점을 트래커로 측정하여 TCS→GCS 변환을 산출(최소 3점, 더 많으면 과잉결정으로 평균화 가능).
    <br />
    • <b>리섹션</b>: 알려진 기준점 ≥4개를 측정해 트래커의 자세·위치를 최적화로 추정하는 방법(잡음에 강하고 신뢰도 향상).
  </div>
  <div class="grid-2">
    <figure class="box figure">
      <div class="ph-box">[그림 자리표시자] O_R 산출 원리: 각도별 표적점 P_i, 평면 적합 및 원 적합, 중심 O_R 표시</div>
      <figcaption class="small">그림 M1. O_R 원적합 개념도</figcaption>
    </figure>
    <figure class="box figure">
      <div class="ph-box">[그림 자리표시자] GCS 생성: 갠트리 X/Y 직선 기동으로 축 방향 추정 및 직교화 흐름</div>
      <figcaption class="small">그림 M2. X/Y 기동 기반 GCS 생성</figcaption>
    </figure>
    <figure class="box figure">
      <div class="ph-box">[그림 자리표시자] d_ref 정의: GCU(P_gcu)와 캘리브레이션 구(P_ball) 간 거리</div>
      <figcaption class="small">그림 M3. d_ref = ||P_gcu − P_ball||</figcaption>
    </figure>
    <figure class="box figure">
      <div class="ph-box">[그림 자리표시자] TCP 검증: d_ref를 목표로 TCP 이동, 트래커 측정값과 팬던트 값 비교</div>
      <figcaption class="small">그림 M4. 기준거리 기반 TCP 검증</figcaption>
    </figure>
  </div>

  <h3>8.3 중간점검·이슈 로그</h3>
  <table aria-label="이슈 로그">
    <thead><tr><th>시간</th><th>설비/로봇</th><th>이슈</th><th>조치</th><th>담당</th><th>상태</th></tr></thead>
    <tbody>
      <tr><td></td><td></td><td></td><td></td><td></td><td>미해결/진행/완료</td></tr>
      <tr><td></td><td></td><td></td><td></td><td></td><td>미해결/진행/완료</td></tr>
    </tbody>
  </table>

  <div class="box small">
    <b>권장 파라미터/품질관리</b>
    <ul>
      <li>N(각도 샘플) ≥ 8, 가능하면 12–16, 균등 분포</li>
      <li>O_R 산출 2회 이상 반복해 재현성(σ) 기록</li>
      <li>각 단계에서 적합 RMS와 최대편차를 함께 저장</li>
    </ul>
  </div>

  <div class="note">
    <b>분석 팁</b>: 편차는 좌표축별(ΔX, ΔY, ΔZ)과 3D 거리 편차(√(ΔX²+ΔY²+ΔZ²))를 함께 산출하면 그룹 내 분포 파악이 수월합니다.
  </div>

  <h2 id="sec-9-records">9. 데이터 기록표</h2>
  <p class="small">※ 1차~4차 목표에 맞춘 기록 양식으로 일원화했습니다.</p>

  <h3>9.1 1차 목표 — GCU–캘리브레이션 기준거리 기반 TCP 검증</h3>
  <table aria-label="1차 목표 기록표 (GCU–캘리브레이션)">
    <thead>
      <tr><th>설비-로봇</th><th>d_ref = ||P_gcu − P_ball|| (mm)</th><th>Trial</th><th>||TCP_meas − P_ball|| (mm)</th><th>Δd (mm)</th><th>ΔX</th><th>ΔY</th><th>ΔZ</th><th>판정</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td>G1-R1</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G1-R1</td><td></td><td>2</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G1-R1</td><td></td><td>3</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G2-R1</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3-R1</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G1-R2</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G2-R2</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3-R2</td><td></td><td>1</td><td></td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
    </tbody>
    <tfoot>
      <tr><td colspan="10" class="small">Δd와 축별 편차는 7장 허용오차 기준으로 판정합니다. 필요 시 Trial 수를 확장하세요.</td></tr>
    </tfoot>
  </table>

  <h3>9.2 2차 목표 — 팬던트 O_R vs 계측기 O_R 비교</h3>
  <table aria-label="2차 목표 기록표 (팬던트 vs 계측기)">
    <thead>
      <tr><th>설비-로봇</th><th>O_R,pdt (X,Y,Z)</th><th>O_R,meas (X,Y,Z)</th><th>ΔX</th><th>ΔY</th><th>ΔZ</th><th>3D 오차</th><th>판정</th><th>비고</th></tr>
    </thead>
    <tbody>
      <tr><td>G1-R1</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td>계측기: 레이저 트래커</td></tr>
      <tr><td>G2-R1</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3-R1</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G1-R2</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G2-R2</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3-R2</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
    </tbody>
  </table>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] 팬던트 O_R,pdt와 계측기 O_R,meas 비교 도식(두 점/벡터 차이)</div>
    <figcaption class="small">그림 D2. O_R 비교 개념도</figcaption>
  </figure>

  <h3>9.3 3차 목표 — 베이스 포인트/상호거리(R1–R2)</h3>
  <table aria-label="3차 목표 베이스 포인트(R1/R2)">
    <thead><tr><th>설비</th><th>B_R1 (X,Y,Z)</th><th>B_R2 (X,Y,Z)</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>G1</td><td>( , , )</td><td>( , , )</td><td>측정: 계측기 기준</td></tr>
      <tr><td>G2</td><td>( , , )</td><td>( , , )</td><td></td></tr>
      <tr><td>G3</td><td>( , , )</td><td>( , , )</td><td></td></tr>
    </tbody>
  </table>

  <table aria-label="3차 목표 상호거리(동일 갠트리 R1↔R2)">
    <thead><tr><th>설비</th><th>D(R1,R2) 측정 (mm)</th><th>설계치 (mm)</th><th>편차 (mm)</th><th>판정</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>G1</td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G2</td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3</td><td></td><td></td><td></td><td>합/부</td><td></td></tr>
    </tbody>
  </table>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] 동일 갠트리 내 R1/R2 베이스 포인트와 상호거리 D(R1,R2) 도식</div>
    <figcaption class="small">그림 D3. 베이스 포인트 및 상호거리</figcaption>
  </figure>

  <h3>9.4 4차 목표 — 공통 자세 TCP 일치(팬던트·트래커 비교, R1↔R2)</h3>
  <table aria-label="4차 목표 기록표 (공통점, R1/R2, 팬던트/트래커)">
    <thead>
      <tr>
        <th>설비</th>
        <th>P_common</th>
        <th>R1 TCP_pdt</th>
        <th>R1 TCP_meas</th>
        <th>R2 TCP_pdt</th>
        <th>R2 TCP_meas</th>
        <th>Δpos(R1−R2) meas (mm)</th>
        <th>Δori(R1−R2) meas (deg)</th>
        <th>판정</th>
        <th>비고</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>G1</td><td>ID/설명</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G2</td><td>ID/설명</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td>합/부</td><td></td></tr>
      <tr><td>G3</td><td>ID/설명</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td>( , , )</td><td></td><td></td><td>합/부</td><td></td></tr>
    </tbody>
  </table>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] 공통점 P_common에서 R1과 R2의 자세/위치 비교(팬던트 vs 트래커)</div>
    <figcaption class="small">그림 D4. 공통 자세 TCP 비교</figcaption>
  </figure>

  <h2 id="sec-10-summary">10. 결과 정리(요약본)</h2>
  <div class="box">
    <h3>10.1 전체 요약</h3>
    <table aria-label="전체 요약">
      <thead><tr><th>그룹</th><th>설비-로봇</th><th>평균 3D 편차 (mm)</th><th>최대 편차 (mm)</th><th>반복성 σ (mm)</th><th>판정</th></tr></thead>
      <tbody>
        <tr><td>R1</td><td>G1-R1</td><td></td><td></td><td></td><td>합/부</td></tr>
        <tr><td>R1</td><td>G2-R1</td><td></td><td></td><td></td><td>합/부</td></tr>
        <tr><td>R1</td><td>G3-R1</td><td></td><td></td><td></td><td>합/부</td></tr>
        <tr><td>R2</td><td>G1-R2</td><td></td><td></td><td></td><td>합/부</td></tr>
        <tr><td>R2</td><td>G2-R2</td><td></td><td></td><td></td><td>합/부</td></tr>
        <tr><td>R2</td><td>G3-R2</td><td></td><td></td><td></td><td>합/부</td></tr>
      </tbody>
    </table>
    <p class="small">판정 기준은 7장 “합격 기준(허용오차)” 표를 적용합니다.</p>
  </div>
  <figure class="box figure">
    <div class="ph-box">[그림 자리표시자] 결과 요약 시각화 예시(축별 편차 바차트/3D 거리 편차 박스플롯 등)</div>
    <figcaption class="small">그림 S1. 결과 요약 그래프(예시)</figcaption>
  </figure>

  

  <h2 id="sec-11-signoff">11. 서명·이력 관리</h2>
  <div class="grid-2">
    <div class="box">
      <h3>서명</h3>
      <table>
        <thead><tr><th>역할</th><th>성명</th><th>서명</th><th>일자</th></tr></thead>
        <tbody>
          <tr><td>작성</td><td></td><td></td><td></td></tr>
          <tr><td>검토</td><td></td><td></td><td></td></tr>
          <tr><td>승인</td><td></td><td></td><td></td></tr>
        </tbody>
      </table>
    </div>
    <div class="box">
      <h3 id="revision">리비전/작업 이력</h3>
      <table>
        <thead><tr><th>Rev</th><th>일자</th><th>변경 요약</th><th>작성자</th></tr></thead>
        <tbody id="revision-body">
          <tr><td>v0.14</td><td>2025-09-29</td><td>설명용 그림 자리표시자 추가(4·6·8·9·10장), 섹션별 캡션 및 위치 제안</td><td>시스템</td></tr>
          <tr><td>v0.13</td><td>2025-09-29</td><td>문서 내 편집 기능(이력 자동 업데이트 패널/스크립트) 제거</td><td>시스템</td></tr>
          <tr><td>v0.12</td><td>2025-09-29</td><td>이력 입력 가드 추가(저장 확인 체크박스, 기본 비활성화). 적용 시 자동 저장 안내 목적.</td><td>시스템</td></tr>
          <tr><td>v0.11</td><td>2025-09-29</td><td>10.2 주요 인사이트 · 후속조치 섹션 삭제(결과 요약 단순화)</td><td>시스템</td></tr>
          <tr><td>v0.10</td><td>2025-09-29</td><td>9.4 공통 자세 TCP 일치: R1·R2를 동일 공통점에 위치시키고 팬던트/트래커 값 동시 기록, inter-robot Δpos/Δori 산출로 표 구조 개편. 8.2 문구 정교화.</td><td>시스템</td></tr>
          <tr><td>v0.9</td><td>2025-09-29</td><td>9.2 팬던트 vs 계측기 O_R 비교로 명확화, 9.3 R1–R2 상호거리 표 구조 개편(B_R1/B_R2, D(R1,R2))</td><td>시스템</td></tr>
          <tr><td>v0.8</td><td>2025-09-29</td><td>1차 목표를 GCU–캘리브레이션 거리 기반으로 재정의, 8.2/9.1/용어(d_ref, P_gcu) 수정</td><td>시스템</td></tr>
          <tr><td>v0.7</td><td>2025-09-29</td><td>컨셉 이미지 표시 크기 제한(720px) 및 스타일 정리, 버전/목차 갱신</td><td>시스템</td></tr>
          <tr><td>v0.5</td><td>2025-09-29</td><td>절차 순서 교체(O_R 선산출 → GCS 생성), 12.2 좌표계 생성 방법(기동/3점/리섹션) 추가, 작업 이력 헤더 명확화</td><td>시스템</td></tr>
          <tr><td>v0.4</td><td>2025-09-29</td><td>부록 12.1 컨셉 이미지 레퍼런스 추가(외부 링크 포함)</td><td>시스템</td></tr>
          <tr><td>v0.3</td><td>2025-09-29</td><td>8장 측정 방법 재정리, 9장 기록표 목표별 개편, 범위/측정점 정리, 10장 결과 요약 신설, 서두 용어 정리 추가</td><td>시스템</td></tr>
          <tr><td>v0.2</td><td></td><td></td><td></td></tr>
          <tr><td>v0.1</td><td></td><td></td><td></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <h2 id="sec-12-appendix">12. 부록 — 기입 가이드</h2>
  <ul class="small">
    <li>목표 좌표 입력 형식: <code>(X, Y, Z)</code> [mm]</li>
    <li>편차 계산 예: 축별 편차는 <code>ΔX = X<sub>측정</sub> - X<sub>목표</sub></code> 등,
        3D 거리 편차는 <code>√(ΔX² + ΔY² + ΔZ²)</code> 적용</li>
    <li>편차 범위(max–min): 동일 지점에서 3대의 3D 거리 편차(또는 특정 축) 중 최대–최소로 산정</li>
  </ul>

  <h3>12.1 컨셉 이미지 레퍼런스</h3>
  <div class="box">
    <p class="small">참고용 컨셉 이미지입니다. 외부 호스팅 링크이므로 오프라인 환경에서는 표시되지 않을 수 있습니다. 필요 시 이미지를 로컬로 저장하여 경로를 상대경로로 교체하세요.</p>

    <figure class="box figure">
      <img src="https://res.cloudinary.com/dmmjpofcc/image/upload/v1759148581/w6skhx8etgkop0umc0mj.jpg" alt="컨셉 이미지 1" loading="lazy" referrerpolicy="no-referrer" />
      <figcaption class="small">그림 1. 컨셉 이미지 1 — 측정 구성/표현 아이디어</figcaption>
    </figure>

    <figure class="box figure">
      <img src="https://res.cloudinary.com/dmmjpofcc/image/upload/v1759148581/r34bpa6ly1563mgcgrhc.jpg" alt="컨셉 이미지 2" loading="lazy" referrerpolicy="no-referrer" />
      <figcaption class="small">그림 2. 컨셉 이미지 2 — 결과 정리/레이아웃 아이디어</figcaption>
    </figure>

    <ul class="small">
      <li>원본 링크 1: <a href="https://res.cloudinary.com/dmmjpofcc/image/upload/v1759148581/w6skhx8etgkop0umc0mj.jpg" target="_blank" rel="noopener">열기</a></li>
      <li>원본 링크 2: <a href="https://res.cloudinary.com/dmmjpofcc/image/upload/v1759148581/r34bpa6ly1563mgcgrhc.jpg" target="_blank" rel="noopener">열기</a></li>
    </ul>
  </div>

  <h3>12.2 좌표계 생성 방법(상세)</h3>
  <div class="box small">
    <p><b>기동 기반 GCS</b></p>
    <ul>
      <li>X축 기동: 동일 기준점에서 X+ 방향으로 이동하며 점열 {X_k} 측정 → 방향벡터 <code>\hat{x} = normalize(X_{end}-X_{start})</code></li>
      <li>Y축 기동: 동일 방식으로 점열 {Y_k} 측정 → <code>\hat{y}</code> 산출 후 <code>\hat{y}' = \hat{y} - (\hat{y}\cdot\hat{x})\hat{x}</code>, 정규화</li>
      <li>Z축: <code>\hat{z} = \hat{x} \times \hat{y}'</code></li>
      <li>원점: <code>O_R</code> 또는 별도 기준점 선택. 회전행렬 R=[\hat{x} \ \hat{y}' \ \hat{z}]와 평행이동 t로 TCS→GCS 구성</li>
    </ul>
    <p><b>트래커 3점</b> (알려진 GCS 기준점 A,B,C 사용)</p>
    <ul>
      <li>TCS에서 a,b,c 측정 → 두 좌표계에서 대응 벡터 집합 생성</li>
      <li>정합(예: Kabsch/Procrustes)으로 R,t 추정 → TCS→GCS 변환</li>
    </ul>
    <p><b>리섹션</b> (기준점 ≥4)</p>
    <ul>
      <li>여러 기준점의 관측을 사용해 트래커 위치·자세를 최소제곱으로 추정(과잉결정)</li>
      <li>장점: 잡음·은폐에 강함, 신뢰도 향상. 단점: 기준점 준비 필요</li>
    </ul>
  </div>

</div>
  </div>
</script>
</body>
</html>
