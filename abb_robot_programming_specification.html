<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABB 로봇 프로그래밍 발주 사양서 - 삼성중공업 34bay B라인</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Malgun Gothic', 'Noto Sans KR', sans-serif;
            line-height: 1.8;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        .header {
            text-align: center;
            border-bottom: 4px solid #007bff;
            padding-bottom: 30px;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #007bff;
            font-size: 2.5em;
            margin-bottom: 15px;
        }
        .header .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-top: 10px;
        }
        .header .meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .header .meta-item {
            background-color: #f8f9fa;
            padding: 10px 20px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .meta-item strong {
            color: #007bff;
            margin-right: 5px;
        }

        h2 {
            color: #007bff;
            margin-top: 40px;
            margin-bottom: 20px;
            border-left: 6px solid #007bff;
            padding-left: 15px;
            font-size: 1.8em;
        }
        h3 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #28a745;
            padding-left: 12px;
            font-size: 1.4em;
        }
        h4 {
            color: #495057;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 14px;
            text-align: left;
        }
        th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
            text-align: center;
        }
        tr:nth-child(even) { background-color: #f8f9fa; }
        tr:hover { background-color: #e9ecef; }

        .macro-structure td {
            background-color: #e6f7ff;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
        }
        .code-list td:nth-child(1) {
            font-weight: bold;
            color: #dc3545;
            width: 15%;
            text-align: center;
        }

        .image-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }
        .image-container img {
            max-width: 100%;
            height: auto;
            border: 2px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .image-container .caption {
            margin-top: 10px;
            font-size: 0.95em;
            color: #666;
            font-style: italic;
        }

        .section {
            margin-bottom: 50px;
            padding: 30px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }

        .checklist {
            list-style: none;
            padding-left: 0;
        }
        .checklist li {
            padding: 10px 10px 10px 40px;
            margin: 8px 0;
            background-color: white;
            border-left: 4px solid #28a745;
            border-radius: 5px;
            position: relative;
        }
        .checklist li:before {
            content: "☐";
            position: absolute;
            left: 12px;
            font-size: 1.3em;
            color: #28a745;
        }

        .highlight-box {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .highlight-box strong {
            color: #856404;
        }

        .info-box {
            background-color: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .info-box strong {
            color: #0c5460;
        }

        .warning-box {
            background-color: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning-box strong {
            color: #721c24;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        li {
            margin: 8px 0;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 0 5px;
        }
        .badge-primary { background-color: #007bff; color: white; }
        .badge-success { background-color: #28a745; color: white; }
        .badge-warning { background-color: #ffc107; color: #333; }
        .badge-danger { background-color: #dc3545; color: white; }
        .badge-info { background-color: #17a2b8; color: white; }

        .footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 3px solid #007bff;
            text-align: center;
            color: #666;
        }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- 헤더 -->
    <div class="header">
        <h1>ABB 로봇 프로그래밍 발주 사양서</h1>
        <div class="subtitle">삼성중공업 34bay 자동용접 시스템 B라인</div>
        <div class="meta">
            <div class="meta-item"><strong>프로젝트:</strong> S25016</div>
            <div class="meta-item"><strong>시스템:</strong> Two Torch 용접 로봇</div>
            <div class="meta-item"><strong>발주처:</strong> 에스피시스템스</div>
            <div class="meta-item"><strong>작성일:</strong> 2025-11-14</div>
        </div>
    </div>

    <!-- 목차 -->
    <div class="section">
        <h2>📋 목차</h2>
        <ol style="font-size: 1.1em; line-height: 2;">
            <li><a href="#section1">프로젝트 개요</a></li>
            <li><a href="#section2">시스템 기본 정보</a></li>
            <li><a href="#section3">작업 범위 정의 및 로봇 동작 요구사항</a></li>
            <li><a href="#section4">통신 인터페이스</a></li>
            <li><a href="#section5">센서 및 주변 장치</a></li>
            <li><a href="#section6">안전 및 보호 기능</a></li>
            <li><a href="#section7">프로그램 구조 요구사항</a></li>
            <li><a href="#section8">테스팅 및 검증</a></li>
            <li><a href="#section9">문서 및 교육</a></li>
            <li><a href="#section10">프로젝트 일정 및 관리</a></li>
            <li><a href="#appendix">부록: Plan A 참고 자료</a></li>
        </ol>
    </div>

    <!-- 1. 프로젝트 개요 -->
    <div id="section1" class="section">
        <h2>1. 프로젝트 개요</h2>

        <h3>1.1 목적</h3>
        <p>삼성중공업 34bay B라인의 Two Torch 용접 로봇 시스템에 대한 <strong>Plan B 방식</strong>의 로봇 프로그래밍을 개발하여, 현재 3-Task 준동기화 방식의 안정성 및 성능을 개선합니다.</p>

        <div class="highlight-box">
            <strong>핵심 개선 목표:</strong>
            <ul>
                <li>갠트리를 Robot1의 외부축으로 통합하여 <strong>하드웨어 동기화</strong> 구현</li>
                <li>3-Task 구조를 <strong>2-Task 구조</strong>로 단순화</li>
                <li>소프트웨어 복잡도 감소 및 유지보수성 향상</li>
            </ul>
        </div>

        <h3>1.2 적용 범위</h3>
        <ul>
            <li><strong>대상 시스템:</strong> 34bay B라인 Two Torch 용접 로봇 시스템</li>
            <li><strong>로봇 구성:</strong> ABB 로봇 2대 (ROB_1 + 외부축 4축, ROB_2)</li>
            <li><strong>용접 방식:</strong> Two Torch 동시 용접</li>
            <li><strong>제어기:</strong> ABB IRC5 컨트롤러</li>
        </ul>

        <div class="info-box">
            <strong>📌 참고 문서:</strong> 상세 Plan B 사양은
            <a href="https://s2501602.vercel.app/planb_specification.html" target="_blank">Plan B 사양서</a>를 참조하시기 바랍니다.
        </div>
    </div>

    <!-- 2. 시스템 기본 정보 -->
    <div id="section2" class="section">
        <h2>2. 시스템 기본 정보</h2>

        <h3>2.1 로봇 시스템 물리적 구성</h3>

        <div class="info-box">
            <strong>💡 Plan B 시스템 구조:</strong>
            <p>Two Torch 용접을 위한 <strong>갠트리 기반 듀얼 로봇 시스템</strong>입니다.</p>
        </div>

        <h4>2.1.1 물리적 배치</h4>
        <table>
            <thead>
                <tr>
                    <th>시스템</th>
                    <th>구성</th>
                    <th>설명</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>갠트리 시스템</strong></td>
                    <td>X, Y, Z, R 4축</td>
                    <td>큰 작업 영역을 커버하는 대형 이동 구조물</td>
                </tr>
                <tr>
                    <td><strong>ROB_1</strong></td>
                    <td>6축 로봇 (Torch 1)</td>
                    <td><strong>갠트리 위에 장착</strong> - 갠트리와 함께 이동 (총 10축)</td>
                </tr>
                <tr>
                    <td><strong>ROB_2</strong></td>
                    <td>6축 로봇 (Torch 2)</td>
                    <td><strong>갠트리 R축 프레임에 설치</strong> - 물리적으로는 갠트리에 장착되나 제어상 독립</td>
                </tr>
            </tbody>
        </table>

        <h4>2.1.2 시스템 통합 구성</h4>
        <table>
            <thead>
                <tr>
                    <th>구분</th>
                    <th>사양</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>컨트롤러</td>
                    <td>ABB IRC5</td>
                    <td>MultiMove 기능 지원</td>
                </tr>
                <tr>
                    <td>ROB_1 축 구성</td>
                    <td>갠트리 4축 + 로봇 6축 = 10축</td>
                    <td>외부축으로 통합 제어</td>
                </tr>
                <tr>
                    <td>ROB_2 축 구성</td>
                    <td>로봇 6축</td>
                    <td>독립 제어 + 가상축 옵션</td>
                </tr>
                <tr>
                    <td>드라이브 모듈</td>
                    <td>Drive 1-6 (ROB_1 로봇)<br>Drive 7-10 (갠트리)<br>Drive 11-16 (ROB_2)</td>
                    <td>총 16축 드라이브</td>
                </tr>
            </tbody>
        </table>

        <div class="highlight-box">
            <strong>⚠️ 중요: ROB_2 동기화 문제</strong>
            <p><strong>문제점:</strong> ROB_1이 갠트리와 함께 움직일 때, 물리적으로 독립된 ROB_2는 ROB_1의 위치를 추적할 수 없습니다.</p>
            <p><strong>해결책:</strong> ROB_2에 <strong>가상축 옵션 (SERVO TOOL CONTROL)</strong>을 적용하여 ROB_1(갠트리 포함)의 움직임을 실시간 트래킹해야 합니다.</p>
            <ul>
                <li>ROB_1이 갠트리로 이동 시, ROB_2가 상대 위치를 유지하며 동기화</li>
                <li>Two Torch 동시 용접 중 정밀한 위치 제어 가능</li>
                <li>ABB MultiMove + SERVO TOOL CONTROL 옵션 필수</li>
            </ul>
        </div>

        <h3>2.2 외부축 사양 (Plan B)</h3>
        <table>
            <thead>
                <tr>
                    <th>축 명칭</th>
                    <th>타입</th>
                    <th>동작 범위</th>
                    <th>용도</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>eax_a (X축)</td>
                    <td>선형</td>
                    <td>±5000mm</td>
                    <td>좌우 이동</td>
                </tr>
                <tr>
                    <td>eax_b (Y축)</td>
                    <td>선형</td>
                    <td>±3000mm</td>
                    <td>전후 이동</td>
                </tr>
                <tr>
                    <td>eax_c (Z축)</td>
                    <td>선형</td>
                    <td>0~2000mm</td>
                    <td>상하 이동</td>
                </tr>
                <tr>
                    <td>eax_d (R축)</td>
                    <td>회전</td>
                    <td>±110°</td>
                    <td>회전</td>
                </tr>
            </tbody>
        </table>

        <div class="info-box">
            <strong>좌표계 연결 순서:</strong><br>
            World Frame → eax_a → eax_b → eax_c → eax_d → ROB_1 Base
        </div>

        <h3>2.3 시스템 레이아웃</h3>
        <ul class="checklist">
            <li>34bay B라인 자동용접 셀 레이아웃 도면 제공 필요</li>
            <li>로봇 베이스 좌표계 정의 (World Coordinate)</li>
            <li>외부축 설치 위치 및 원점 정의</li>
            <li>안전 펜스 및 작업 영역 도면</li>
            <li>A라인과의 간섭 검토 구역 명시</li>
        </ul>
    </div>

    <!-- 3. 작업 범위 정의 및 로봇 동작 요구사항 -->
    <div id="section3" class="section">
        <h2>3. 작업 범위 정의 및 로봇 동작 요구사항</h2>

        <div class="highlight-box">
            <strong>⚠️ 중요:</strong> 본 섹션은 Two Torch 용접 Macro 정의를 기반으로 작성되었습니다.
            모든 용접 패스는 ABC 코드 체계를 따라야 합니다.
        </div>

        <h3>3.1 Two Torch 용접 Macro (ABC) 정의</h3>
        <p>B-라인의 Two Torch 용접은 <strong>Macro 코드 체계</strong>를 사용하여 각 용접선의 형상과 시작/끝 처리 방식을 정의합니다.</p>

        <h4>3.1.1 Macro 기본 구조</h4>
        <p>Macro는 <span class="badge badge-primary">A (형상)</span> <span class="badge badge-success">B (시작)</span> <span class="badge badge-warning">C (끝)</span> 세 가지 코드로 구성됩니다.</p>

        <div class="image-container">
            <img src="https://res.cloudinary.com/dmmjpofcc/image/upload/v1763085303/s25016/cvc0cknoe1xrjhqba5d1oqute.png" alt="용접 매크로 정의 구조 그림 (A, B, C 정의)">
            <div class="caption">그림 1: 용접 Macro ABC 정의 구조</div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                </tr>
            </thead>
            <tbody class="macro-structure">
                <tr>
                    <td>Two Torch 용접선 형상</td>
                    <td>시작점 용접 Type</td>
                    <td>끝점 용접 Type</td>
                </tr>
            </tbody>
        </table>

        <h4>3.1.2 A: 용접선 형상 코드 (Two Torch 전용)</h4>
        <p>B-라인에서 사용되는 2개 토치 부재의 형상 코드입니다.</p>
        <table class="code-list">
            <thead>
                <tr>
                    <th>코드</th>
                    <th>정의</th>
                    <th>설명</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2</td>
                    <td>Two Torch 직선 부재</td>
                    <td>직선 구간 용접 (가장 일반적)</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Two Torch Arc 부재</td>
                    <td>곡선(원호) 구간 용접</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Two Torch 경사 부재</td>
                    <td>경사진(Sloped) 구간 용접</td>
                </tr>
            </tbody>
        </table>

        <h4>3.1.3 B/C: 시작점 및 끝점 용접 Type 상세</h4>
        <p>그림 2에 나타난 시작/끝 지점에서의 이음매 처리 방식을 정의합니다.</p>

        <div class="image-container">
            <img src="https://res.cloudinary.com/dmmjpofcc/image/upload/v1763085305/s25016/skeontqnofxp9wmo8ue6j64bl.png" alt="용접 매크로 시작/끝점 Type 상세 정의 그림 (0, 1, 2, 4, 5, 8, 9)">
            <div class="caption">그림 2: 시작/끝점 Type 상세 정의 (0, 1, 2, 4, 5, 8, 9)</div>
        </div>

        <table class="code-list">
            <thead>
                <tr>
                    <th>코드</th>
                    <th>정의</th>
                    <th>핵심 처리 방식</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>0</td>
                    <td>Open Type</td>
                    <td>열린 시작/종료 처리 (일반적인 끝단)</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Closed Type</td>
                    <td>닫힌 시작/종료 처리 (밀봉형 끝단)</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Snip Type</td>
                    <td>이음매 끝단 잘라내기 처리 (모서리 처리)</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Divided Type</td>
                    <td>중간 간섭 등으로 인한 분할 처리</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Closed-Open Type</td>
                    <td>한쪽은 닫고 다른 한쪽은 여는 복합 처리</td>
                </tr>
                <tr>
                    <td>8/9</td>
                    <td>Joint First/Second</td>
                    <td>이음매 처리 우선순위 지정</td>
                </tr>
            </tbody>
        </table>

        <h4>3.1.4 Macro 해석 예시</h4>
        <div class="info-box">
            <strong>예시: Macro 코드 220</strong>
            <ul>
                <li><strong>2 (A):</strong> Two Torch <span class="badge badge-primary">직선 부재</span></li>
                <li><strong>2 (B):</strong> 시작점은 <span class="badge badge-success">Closed Type</span>으로 처리</li>
                <li><strong>0 (C):</strong> 끝점은 <span class="badge badge-warning">Open Type</span>으로 처리</li>
            </ul>
            <p><strong>의미:</strong> 직선 구간을 용접하며, 시작점은 밀봉 처리하고 끝점은 열린 상태로 마무리합니다.</p>
        </div>

        <h3>3.2 로봇 동작 요구사항</h3>

        <div class="info-box">
            <strong>📌 Plan B 사양서 기반 개발:</strong>
            <p>로봇 동작 요구사항은 <a href="https://s2501602.vercel.app/planb_specification.html" target="_blank"><strong>Plan B 사양서</strong></a>의 내용을 기준으로 개발합니다.</p>
            <p>Plan B의 핵심 개념인 <strong>하드웨어 동기화</strong>, <strong>외부축 통합</strong>, <strong>2-Task 구조</strong>를 반드시 적용하며,
            상세 기술 사양 및 구현 방법은 해당 문서를 참조하시기 바랍니다.</p>
        </div>

        <h4>3.2.1 핵심 동작 요구사항</h4>
        <table>
            <thead>
                <tr>
                    <th>구분</th>
                    <th>요구사항</th>
                    <th>Plan B 참조</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>외부축 통합</strong></td>
                    <td>갠트리 4축(X, Y, Z, R)을 ROB_1의 외부축으로 통합</td>
                    <td>하드웨어 구성 섹션</td>
                </tr>
                <tr>
                    <td><strong>동기화 방식</strong></td>
                    <td>하드웨어 자동 보간 (제어기 내부 동기화)</td>
                    <td>시스템 구성 비교 섹션</td>
                </tr>
                <tr>
                    <td><strong>좌표 변환</strong></td>
                    <td>제어기 자동 처리 (수동 함수 불필요)</td>
                    <td>소프트웨어 변경사항 섹션</td>
                </tr>
                <tr>
                    <td><strong>모션 명령</strong></td>
                    <td>MoveL/MoveJ에 외부축 좌표 통합 (robtarget.extax)</td>
                    <td>RAPID 프로그램 수정 섹션</td>
                </tr>
                <tr>
                    <td><strong>용접 경로</strong></td>
                    <td>Macro ABC 코드 기반 경로 생성 (직선/곡선/경사)</td>
                    <td>용접 파라미터 섹션</td>
                </tr>
                <tr>
                    <td><strong>Two Torch</strong></td>
                    <td>ROB_1 + ROB_2 협조 동작 (WaitSyncTask)</td>
                    <td>테스트 계획 Phase 3</td>
                </tr>
            </tbody>
        </table>

        <h4>3.2.2 모션 시퀀스 (Plan B 방식)</h4>
        <ol>
            <li><strong>초기 위치 이동:</strong> robtarget (로봇 + 외부축 통합)으로 하드웨어 동기화 이동</li>
            <li><strong>용접 시작:</strong> ArcLink XT 아크 점화 + Macro B 코드 시작점 처리</li>
            <li><strong>용접 진행:</strong> 외부축 자동 이동 + TCP 위빙 + Macro A 경로 추종 + <strong>SyncMove 동기화</strong></li>
            <li><strong>용접 종료:</strong> Macro C 코드 끝점 처리 + 아크 소호</li>
            <li><strong>복귀:</strong> 안전 위치 복귀</li>
        </ol>

        <div class="info-box">
            <strong>📌 Two Torch 동기화 제어:</strong>
            <ul>
                <li><strong>기본 방식:</strong> SyncMove를 사용하여 ROB_1과 ROB_2를 동기화</li>
                <li><strong>필수 옵션:</strong> ROB_2에 SERVO TOOL CONTROL 적용 (상세 내용은 7장 참조)</li>
                <li><strong>협의 가능:</strong> 특정 Macro에서 문제 발생 시 대체 방안 협의</li>
            </ul>
        </div>

        <h4>3.2.3 동작 제약 조건</h4>
        <ul class="checklist">
            <li><strong>원점 복귀:</strong> 프로그램 시작/종료 시 필수</li>
        </ul>

        <div class="highlight-box">
            <strong>⚠️ 중요:</strong>
            <ul>
                <li>Plan B의 <strong>데이터 구조 변경</strong> (Welds1{}.extax 통합) 필수 적용</li>
                <li>Plan A의 좌표 변환 함수 (<code>fnPoseToExtax</code>, <code>fnCoordToJoint</code>) 사용 금지</li>
                <li>TASK7 (Gantry) 생성 불가 - 외부축으로만 구현</li>
                <li>상세 구현 방법은 <a href="https://s2501602.vercel.app/planb_specification.html" target="_blank">Plan B 사양서</a> 필독</li>
            </ul>
        </div>

        <h3>3.3 용접 데이터 파라미터</h3>
        <div class="info-box">
            <strong>📌 기존 파라미터 유지:</strong>
            <ul>
                <li><strong>welddata:</strong> 40개 세트 (속도, 전압, 전류)</li>
                <li><strong>weavedata:</strong> 40개 세트 (타입, 폭, 높이, 빈도)</li>
                <li>Plan A에서 검증된 용접 조건을 Plan B에 그대로 적용</li>
            </ul>
        </div>

        <h3>3.4 데이터 구조 변경 (Plan B)</h3>
        <table>
            <thead>
                <tr>
                    <th>Plan A</th>
                    <th>Plan B</th>
                    <th>변경 사항</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Welds1{} + WeldsG{}</td>
                    <td>Welds1{}.extax</td>
                    <td>갠트리 좌표를 robtarget에 통합</td>
                </tr>
                <tr>
                    <td>MoveL + fnCoordToJoint()</td>
                    <td>MoveL (외부축 자동)</td>
                    <td>좌표 변환 함수 제거</td>
                </tr>
                <tr>
                    <td>3개 Task 동기화</td>
                    <td>2개 Task WaitSyncTask</td>
                    <td>Task 단순화</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- 4. 통신 인터페이스 -->
    <div id="section4" class="section">
        <h2>4. 통신 인터페이스</h2>

        <h3>4.1 용접기 통신 (ArcLink XT)</h3>
        <div class="info-box">
            <strong>📌 용접기 통신 방식:</strong>
            <ul>
                <li><strong>통신 프로토콜:</strong> ABB ArcLink XT</li>
                <li><strong>용접기:</strong> Lincoln Electric Power Wave</li>
                <li><strong>인터페이스:</strong> 로봇 컨트롤러와 용접기 간 직접 통신</li>
                <li>참고 자료: <a href="./251003_용접기_디바이스넷/DeviceNet_Signals_Table.html" target="_blank">기존 신호 테이블</a> (158개 신호)</li>
            </ul>
        </div>

        <h4>4.1.1 ArcLink XT 통신 요구사항</h4>
        <ul class="checklist">
            <li>ABB ArcLink XT 프로토콜 설정 및 구성</li>
            <li>용접기 제어 신호 매핑 (시작/정지/전류/전압/와이어 속도)</li>
            <li>용접기 상태 피드백 신호 (준비, 아크 ON/OFF, 에러)</li>
            <li>용접 파라미터 전송 (welddata, weavedata)</li>
            <li>에러 코드 매핑 및 처리</li>
        </ul>

        <h4>4.1.2 용접 시작/종료 인터록 시퀀스 (ArcLink XT)</h4>
        <ol>
            <li>로봇 → 용접기: 용접 준비 신호 (ArcLink XT 명령)</li>
            <li>용접기 → 로봇: 준비 완료 확인</li>
            <li>로봇 → 용접기: 아크 시작 명령 + 용접 파라미터</li>
            <li>용접기 → 로봇: 아크 ON 피드백</li>
            <li>용접 진행 중 실시간 모니터링 (전류/전압)</li>
            <li>로봇 → 용접기: 아크 종료 명령</li>
            <li>용접기 → 로봇: 아크 OFF 확인</li>
        </ol>

        <div class="highlight-box">
            <strong>💡 ArcLink XT 장점:</strong>
            <ul>
                <li>로봇 컨트롤러와 용접기 간 직접 통신으로 안정성 향상</li>
                <li>복잡한 I/O 배선 불필요</li>
                <li>용접 파라미터 실시간 전송 및 조정 가능</li>
                <li>ABB 표준 용접 패키지와 완벽 호환</li>
            </ul>
        </div>

        <h3>4.2 PLC 통신</h3>
        <table>
            <thead>
                <tr>
                    <th>구분</th>
                    <th>사양</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>프로토콜</td>
                    <td>Profinet / Ethernet/IP</td>
                    <td>프로젝트 사양 확인 필요</td>
                </tr>
                <tr>
                    <td>통신 주기</td>
                    <td>10ms 이하</td>
                    <td>실시간 제어</td>
                </tr>
                <tr>
                    <td>데이터 교환</td>
                    <td>I/O 신호 + 상태 워드</td>
                    <td>Robot Ready, Program Running 등</td>
                </tr>
            </tbody>
        </table>

        <h3>4.3 UI 통신 인터페이스 (Plan B 변경 사항)</h3>
        <div class="highlight-box">
            <strong>⚠️ Plan B 변경 포인트:</strong>
            <ul>
                <li>응답 신호: <code>stReact{3}</code> → <code>stReact{2}</code> (2개 Task만)</li>
                <li>TASK8 명령 처리: 로봇 위치 + 외부축 좌표 <strong>통합 전달</strong></li>
                <li>I/O 신호 대부분 유지, <code>so_MoveG_PosHold</code> 제거 가능</li>
            </ul>
        </div>

        <h3>4.4 에러 핸들링</h3>
        <div class="warning-box">
            <strong>⚠️ 필수 요구사항:</strong>
            <p>안정적인 시스템 운영을 위해 <strong>에러 핸들링</strong>을 반드시 구현해야 합니다.</p>
        </div>

        <h4>4.4.1 에러 감지 및 처리</h4>
        <ul class="checklist">
            <li><strong>용접기 에러:</strong> ArcLink XT를 통한 용접기 에러 코드 실시간 모니터링 및 처리</li>
            <li><strong>로봇 모션 에러:</strong> 외부축 동기화 실패, 위치 오차, 충돌 감지 등</li>
            <li><strong>통신 에러:</strong> PLC, UI, 용접기 간 통신 타임아웃 및 연결 끊김</li>
            <li><strong>센서 에러:</strong> 세들 홀센서, LDS 센서 이상 신호 감지</li>
            <li><strong>안전 신호:</strong> 비상 정지, 유동 리미트 위반, SafeMove 알람</li>
        </ul>

        <h4>4.4.2 에러 복구 시퀀스</h4>
        <table>
            <thead>
                <tr>
                    <th>에러 유형</th>
                    <th>복구 절차</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>용접기 에러</td>
                    <td>에러 확인 → 리셋 시도 → UI 알람 전송</td>
                    <td>자동 복구 시도 (최대 3회)</td>
                </tr>
                <tr>
                    <td>모션 에러</td>
                    <td>즉시 정지 → 위치 확인 → 안전 위치 복귀</td>
                    <td>수동 개입 필요</td>
                </tr>
                <tr>
                    <td>통신 타임아웃</td>
                    <td>재연결 시도 → 실패 시 정지 및 알람</td>
                    <td>타임아웃: 5초</td>
                </tr>
                <tr>
                    <td>센서 이상</td>
                    <td>해당 축 정지 → 진단 모드 진입</td>
                    <td>작업 중단</td>
                </tr>
                <tr>
                    <td>비상 정지</td>
                    <td>즉시 전체 정지 → 상태 저장 → 수동 복구</td>
                    <td>복구 절차 매뉴얼 참조</td>
                </tr>
            </tbody>
        </table>

        <h4>4.4.3 에러 로그 및 알람</h4>
        <ul class="checklist">
            <li>에러 발생 시 타임스탬프, 에러 코드, 로봇 상태 자동 저장</li>
            <li>UI로 실시간 에러 메시지 전송 (한글 설명 포함)</li>
            <li>에러 히스토리 로그 파일 생성 (CSV 또는 텍스트)</li>
            <li>중대 에러 발생 시 부저 또는 경광등 동작</li>
        </ul>

        <h4>4.4.4 디버깅 지원</h4>
        <ul class="checklist">
            <li>에러 발생 전후 로봇 위치 및 I/O 상태 저장</li>
            <li>드라이런 모드: 실제 용접 없이 모션만 검증</li>
            <li>스텝 모드: 단계별 실행 및 확인</li>
            <li>원격 진단 지원을 위한 로그 파일 백업 기능</li>
        </ul>
    </div>

    <!-- 5. 센서 및 주변 장치 -->
    <div id="section5" class="section">
        <h2>5. 센서 및 주변 장치</h2>

        <h3>5.1 용접 토치</h3>
        <ul class="checklist">
            <li>Two Torch 사양 (2개 토치 동시 사용)</li>
            <li>Tool Center Point (TCP) 캘리브레이션</li>
        </ul>

        <h3>5.2 센싱 시스템</h3>
        <table>
            <thead>
                <tr>
                    <th>센서</th>
                    <th>용도</th>
                    <th>요구사항</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>세들 홀센서 (Saddle Hall Sensor)</td>
                    <td>X축 정렬 확인</td>
                    <td>갠트리 X축 위치 정밀 감지 및 검증</td>
                </tr>
                <tr>
                    <td>상하축 LDS 센서</td>
                    <td>Y/Z축 건전성 확인</td>
                    <td>상하축(Y, Z) 위치 및 동작 상태 실시간 모니터링</td>
                </tr>
            </tbody>
        </table>

        <h3>5.3 주변 장치</h3>
        <ul class="checklist">
            <li>와이어 커터 및 클리너 스테이션</li>
            <li>와이어 피더 (2개, Two Torch용)</li>
            <li>가스 공급 장치</li>
            <li><strong>ABB 불스아이 (Bulls Eye)</strong> - 로봇 정밀도 검증 및 캘리브레이션 시스템</li>
        </ul>
    </div>

    <!-- 6. 안전 및 보호 기능 -->
    <div id="section6" class="section">
        <h2>6. 안전 및 보호 기능</h2>

        <h3>6.1 안전 구역 정의</h3>
        <div class="info-box">
            <strong>📌 Plan A 적용 사항 차용:</strong>
            <p>안전 구역 정의는 기존 Plan A 시스템에서 적용된 안전 영역 설정을 그대로 차용하여 적용합니다.</p>
            <p>작업 영역, 제한 영역, 금지 영역 등의 구체적인 범위 및 제한 사항은 Plan A 설정 값을 참조하시기 바랍니다.</p>
        </div>

        <h3>6.2 충돌 및 비상 처리</h3>
        <div class="warning-box">
            <strong>⚠️ 필수 요구사항:</strong>
            <ul>
                <li>충돌 감지 시 즉시 정지 및 알람</li>
                <li>비상 정지 버튼 동작 확인</li>
                <li>복구 모드 진입 절차</li>
                <li>수동 조작 모드 (Manual Mode)</li>
            </ul>
        </div>

        <h3>6.3 갠트리 간섭 방지 (PLC 유동 리미트)</h3>
        <div class="highlight-box">
            <strong>💡 PLC 기반 갠트리 간섭 방지:</strong>
            <p>PLC를 사용하여 갠트리 간 유동 리미트(Floating Limit)를 적용합니다.</p>
            <ul>
                <li><strong>유동 리미트 개념:</strong> 한 로봇(ROB_1 또는 ROB_2)의 갠트리 위치에 따라 다른 로봇의 허용 이동 범위를 동적으로 제한</li>
                <li><strong>PLC 역할:</strong> 두 로봇의 갠트리 위치를 실시간 모니터링하여 최소 안전 거리 유지</li>
                <li><strong>안전 인터록:</strong> 안전 거리 침범 시 해당 로봇의 갠트리 이동 차단</li>
                <li><strong>알람 발생:</strong> 유동 리미트 위반 시 경고 및 정지 신호 전송</li>
            </ul>
            <p>상세 로직 및 설정 값은 현장 레이아웃 및 안전 요구사항에 따라 결정합니다.</p>
        </div>
    </div>

    <!-- 7. 프로그램 구조 요구사항 -->
    <div id="section7" class="section">
        <h2>7. 프로그램 구조 요구사항</h2>

        <div class="highlight-box">
            <strong>📌 참고 자료:</strong>
            <ul>
                <li><strong>Plan B 구조:</strong> 2-Task 체계 (본 사양서 기준)</li>
                <li><strong>Plan A 구조:</strong> 3-Task 체계 (참고용)</li>
                <li><strong>백업 제공:</strong> 기존 시스템 백업은 제공 가능합니다</li>
            </ul>
        </div>

        <h3>7.1 Plan B 프로그램 구조 (제안)</h3>

        <div class="warning-box">
            <strong>⚠️ 필수: ROB_2 가상축 옵션 (SERVO TOOL CONTROL)</strong>
            <p>ROB_2에 <strong>가상축 옵션 (SERVO TOOL CONTROL)</strong>을 반드시 적용해야 합니다.</p>
        </div>

        <h4>7.0.1 가상축(SERVO TOOL CONTROL) 필요성</h4>

        <div class="info-box">
            <strong>📌 문제 상황:</strong>
            <ul>
                <li>ROB_1은 갠트리 위에 장착되어 <strong>갠트리와 함께 이동</strong></li>
                <li>ROB_2는 별도 위치에 고정 설치된 <strong>독립된 로봇</strong></li>
                <li>ROB_1이 갠트리(X, Y, Z, R)로 이동할 때, ROB_2는 ROB_1의 위치를 추적할 수 없음</li>
                <li>Two Torch 동시 용접 시 <strong>상대 위치 유지 불가능</strong></li>
            </ul>
        </div>

        <div class="highlight-box">
            <strong>✅ 해결책: SERVO TOOL CONTROL 옵션</strong>
            <p><strong>가상축(Virtual Axis)</strong>을 사용하여 ROB_2가 ROB_1의 움직임을 실시간 트래킹합니다.</p>

            <h4 style="margin-top: 15px;">작동 원리:</h4>
            <ol>
                <li><strong>위치 트래킹:</strong> ROB_1(갠트리 포함)의 TCP 위치를 실시간으로 ROB_2에 전달</li>
                <li><strong>상대 좌표 유지:</strong> ROB_2가 ROB_1과의 상대 위치를 유지하며 동기화</li>
                <li><strong>자동 보상:</strong> 갠트리 이동 시 ROB_2가 자동으로 포지셔닝</li>
                <li><strong>동시 용접:</strong> Two Torch가 정밀하게 동기화되어 동시 용접 수행</li>
            </ol>

            <h4 style="margin-top: 15px;">필수 요구사항:</h4>
            <ul>
                <li>✅ ABB MultiMove 옵션</li>
                <li>✅ <strong>SERVO TOOL CONTROL 옵션 (ROB_2에 필수)</strong></li>
                <li>✅ ROB_2를 ROB_1의 가상축처럼 취급하여 동기화</li>
            </ul>
        </div>

        <div class="info-box" style="margin-top: 20px;">
            <strong>💡 기술적 구현:</strong>
            <p>SERVO TOOL CONTROL을 사용하면 ROB_2가 마치 ROB_1의 외부축처럼 동작하여,
            복잡한 동기화 로직 없이도 두 로봇이 협조 동작을 수행할 수 있습니다.</p>
            <p>상세 구현 방법은 ABB 엔지니어와 협의하여 결정합니다.</p>
        </div>

        <h4>7.0.2 검토 우선순위 및 접근 방법</h4>

        <div class="highlight-box">
            <strong>🎯 우선 검토 제안:</strong>
            <p><strong>SERVO TOOL CONTROL 옵션을 반영하여 검토하는 것을 우선순위로 진행하기를 제안합니다.</strong></p>
        </div>

        <h4>7.0.3 용접 모션 제어 방식</h4>

        <div class="info-box">
            <strong>📌 기본 제어 방식: SyncMove</strong>
            <p>용접 모션에 있어서 <strong>SyncMove를 사용하여 제어하는 것이 우선</strong>입니다.</p>
            <ul>
                <li>SyncMove: 두 로봇의 동작을 동기화하여 정밀한 협조 작업 수행</li>
                <li>용접 품질 및 정밀도 확보에 유리</li>
            </ul>
        </div>

        <div class="warning-box">
            <strong>⚠️ 협의 가능 사항:</strong>
            <p>프로젝트 진행 과정에서 문제가 발생할 경우, 대체 방안에 대해 <strong>협의가 가능</strong>합니다.</p>
        </div>

        <h4>7.0.4 선행 검토 사례: 200 매크로 이슈</h4>

        <div class="warning-box">
            <strong>📋 사전 검토 결과 공유:</strong>
            <p><strong>200 매크로</strong>의 경우, <strong>"동시 출발 동시 도착"이 아닌 조건</strong>에서 문제가 확인되었습니다.</p>

            <ul>
                <li><strong>검토자:</strong> ABB 유대영 차장</li>
                <li><strong>결과:</strong> 선행 검토 시 기술적 문제점 발견</li>
                <li><strong>공유:</strong> 삼성중공업과 해당 이슈 공유 완료</li>
            </ul>

            <p><strong>200 매크로 특성:</strong></p>
            <ul>
                <li>Two Torch 직선 부재 (코드 2)</li>
                <li>시작점: Open Type (코드 0)</li>
                <li>끝점: Open Type (코드 0)</li>
                <li>두 로봇이 서로 다른 시작/종료 타이밍을 가질 수 있는 구조</li>
            </ul>

            <p><strong>시사점:</strong></p>
            <p>모든 Macro에 대해 "동시 출발 동시 도착" 조건을 적용할 수 없는 경우가 있으므로,
            <strong>Macro별 상세 검토 및 협의가 필요</strong>합니다.</p>
        </div>

        <div class="info-box" style="margin-top: 20px;">
            <strong>💡 권장 접근:</strong>
            <ol>
                <li><strong>1단계:</strong> SERVO TOOL CONTROL 옵션을 포함하여 시스템 설계</li>
                <li><strong>2단계:</strong> SyncMove 기반으로 우선 구현</li>
                <li><strong>3단계:</strong> Macro별 동작 검증 (특히 200 매크로 등)</li>
                <li><strong>4단계:</strong> 문제 발생 시 대체 방안 협의 (예: 비동기 모션, 순차 실행 등)</li>
            </ol>
        </div>

        <h4>7.1.1 Task 구성</h4>
        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>역할</th>
                    <th>주요 모듈</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>T_ROB1</td>
                    <td>ROB_1 + 외부축 4축 통합 제어</td>
                    <td>MainModule, WeldingModule, MotionModule</td>
                </tr>
                <tr>
                    <td>T_ROB2</td>
                    <td>ROB_2 독립 제어</td>
                    <td>MainModule, WeldingModule</td>
                </tr>
            </tbody>
        </table>

        <h4>7.1.2 모듈 구조 (권장)</h4>
        <ul>
            <li><strong>MainModule:</strong> 메인 프로그램 진입점, 초기화, UI 통신</li>
            <li><strong>WeldingModule:</strong> 용접 시퀀스, Macro ABC 처리 로직</li>
            <li><strong>MotionModule:</strong> 로봇 모션 제어, 외부축 통합 동작</li>
            <li><strong>IOModule:</strong> I/O 신호 처리, ArcLink XT 통신</li>
            <li><strong>DataModule:</strong> robtarget 배열 (Welds1{}.extax 통합)</li>
            <li><strong>ErrorModule:</strong> 에러 핸들링 및 복구 로직</li>
        </ul>

        <h4>7.1.3 주요 변경 사항 (Plan A → Plan B)</h4>
        <div class="warning-box">
            <strong>🔴 삭제 대상:</strong>
            <ul>
                <li>TASK7 (Gantry_MainModule) 전체 제거</li>
                <li>함수: <code>fnPoseToExtax()</code>, <code>fnCoordToJoint()</code></li>
                <li>신호: <code>so_MoveG_PosHold</code></li>
                <li>배열: <code>WeldsG{}</code> (Welds1{}.extax로 통합)</li>
            </ul>
        </div>

        <div class="info-box">
            <strong>✅ 단순화 효과:</strong>
            <ul>
                <li>좌표 변환 함수 불필요 (제어기 자동 처리)</li>
                <li>Task 간 동기화 신호 감소</li>
                <li>코드 라인 수 약 30% 감소 예상</li>
            </ul>
        </div>

        <h3>7.2 Plan A 참고 구조 (현재 시스템)</h3>
        <div class="info-box">
            <strong>📌 Plan A 백업 참조:</strong> 기존 3-Task 구조를 참고하되, Plan B 방식으로 재구성 권장
            <ul>
                <li>백업 파일 개수: 약 360개 모듈 (.mod, .sys 포함)</li>
                <li>주요 설정: SYSPAR/*.cfg, HOME/*.sys</li>
                <li>Lincoln Electric Arc 설정: HOME/Arc/LincolnData/</li>
            </ul>
        </div>
    </div>

    <!-- 8. 테스팅 및 검증 -->
    <div id="section8" class="section">
        <h2>8. 테스팅 및 검증</h2>

        <h3>8.1 테스트 계획 (4단계)</h3>
        <div class="info-box">
            <strong>📌 테스트 일정:</strong> 각 단계별 예상 기간은 견적처(ABB 또는 외부 전문가)에서 제안하도록 합니다.
        </div>
        <table>
            <thead>
                <tr>
                    <th>Phase</th>
                    <th>내용</th>
                    <th>합격 기준</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Phase 1</td>
                    <td>외부축 단독 동작 테스트</td>
                    <td>각 축 정상 작동</td>
                </tr>
                <tr>
                    <td>Phase 2</td>
                    <td>ROB_1+외부축 통합 테스트</td>
                    <td>동기화 정상 동작 확인</td>
                </tr>
                <tr>
                    <td>Phase 3</td>
                    <td>ROB_1+ROB_2 협조 동작</td>
                    <td>WaitSyncTask 정상 동작, 간섭 없음</td>
                </tr>
                <tr>
                    <td>Phase 4</td>
                    <td>통합 시스템 검증</td>
                    <td>기능 구현 확인</td>
                </tr>
            </tbody>
        </table>

        <h3>8.2 시뮬레이션</h3>
        <ul class="checklist">
            <li>ABB RobotStudio 시뮬레이션 파일 제공</li>
            <li>외부축 통합 모델 검증</li>
            <li>간섭 체크 (ROB_1, ROB_2, 외부축, 주변 장치)</li>
        </ul>

        <h3>8.3 인수 테스트 (FAT/SAT)</h3>
        <div class="highlight-box">
            <strong>✅ 인수 조건:</strong>
            <p>기능 구현 및 실부재 TEST 완료 시 인수 테스트를 진행합니다.</p>
            <ul>
                <li>모든 요구 기능이 정상적으로 구현되었는지 확인</li>
                <li>실제 부재를 사용한 용접 테스트 수행</li>
                <li>안전 기능 및 비상 상황 대응 검증</li>
                <li>최종 검수 보고서 작성</li>
            </ul>
        </div>
    </div>

    <!-- 9. 문서 및 교육 -->
    <div id="section9" class="section">
        <h2>9. 문서 및 교육</h2>

        <h3>9.1 납품 문서</h3>
        <ul class="checklist">
            <li>RAPID 프로그램 소스 코드 전체 (주석 포함)</li>
            <li>시스템 구성도 (하드웨어)</li>
            <li>I/O 매핑 테이블 (Excel 또는 PDF)</li>
            <li>파라미터 설정 가이드 (welddata, weavedata)</li>
            <li>Macro ABC 코드 해석 매뉴얼</li>
            <li>백업 및 복원 절차서</li>
            <li>트러블슈팅 가이드</li>
            <li>RobotStudio 시뮬레이션 파일</li>
        </ul>

        <h3>9.2 매뉴얼</h3>
        <table>
            <thead>
                <tr>
                    <th>매뉴얼</th>
                    <th>내용</th>
                    <th>형식</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>조작 매뉴얼</td>
                    <td>일상 운전 절차, UI 사용법</td>
                    <td>한글 PDF + 영문 PDF</td>
                </tr>
                <tr>
                    <td>유지보수 매뉴얼</td>
                    <td>정기 점검, 부품 교체, 캘리브레이션</td>
                    <td>한글 PDF</td>
                </tr>
                <tr>
                    <td>프로그래밍 가이드</td>
                    <td>RAPID 코드 수정, 파라미터 변경</td>
                    <td>한글 PDF + 샘플 코드</td>
                </tr>
            </tbody>
        </table>

        <h3>9.3 교육 계획</h3>
        <table>
            <thead>
                <tr>
                    <th>과정</th>
                    <th>대상</th>
                    <th>시간</th>
                    <th>내용</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>운영자 교육</td>
                    <td>현장 운전자</td>
                    <td>4시간</td>
                    <td>시스템 조작, 이상 대응, 안전</td>
                </tr>
                <tr>
                    <td>유지보수 교육</td>
                    <td>정비 담당자</td>
                    <td>8시간</td>
                    <td>트러블슈팅, 백업/복원, 파라미터 조정</td>
                </tr>
                <tr>
                    <td>고급 프로그래밍</td>
                    <td>엔지니어</td>
                    <td>16시간</td>
                    <td>RAPID 코딩, Macro 수정, 외부축 설정</td>
                </tr>
            </tbody>
        </table>

        <h3>9.4 기술 지원</h3>
        <ul class="checklist">
            <li><strong>시운전 상주 지원</strong></li>
            <li>원격 지원 (전화, 이메일, 원격 접속)</li>
            <li>하자 보수 기간: 1년</li>
            <li>정기 점검 방문 (연 2회 권장)</li>
        </ul>
    </div>

    <!-- 10. 프로젝트 일정 및 관리 -->
    <div id="section10" class="section">
        <h2>10. 프로젝트 일정 및 관리</h2>

        <h3>10.1 개발 일정</h3>

        <div class="highlight-box">
            <strong>📌 일정 수립 요청:</strong>
            <p>아래 일정은 <strong>초안</strong>입니다. 구체적인 개발 일정 및 마일스톤은 <strong>견적처(ABB 또는 외부 전문가)</strong>에서 수립하여 제안해 주시기 바랍니다.</p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>단계</th>
                    <th>주요 활동</th>
                    <th>산출물</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>설계 및 준비</td>
                    <td>외부축 설정, 백업, 환경 구축</td>
                    <td>시스템 구성 파일</td>
                </tr>
                <tr>
                    <td>기본 프로그래밍</td>
                    <td>RAPID 모듈 작성, 캘리브레이션</td>
                    <td>MainModule, MotionModule</td>
                </tr>
                <tr>
                    <td>통합 테스트</td>
                    <td>외부축 테스트, 협조 동작 검증</td>
                    <td>테스트 리포트 (Phase 1-2)</td>
                </tr>
                <tr>
                    <td>성능 검증</td>
                    <td>기능 구현 확인, 실부재 테스트</td>
                    <td>테스트 리포트 (Phase 3-4)</td>
                </tr>
                <tr>
                    <td>시운전</td>
                    <td>현장 안정화, 미세 조정, 교육</td>
                    <td>최종 검수 보고서</td>
                </tr>
            </tbody>
        </table>

        <h3>10.2 마일스톤 (초안)</h3>
        <p>구체적인 마일스톤 일정은 견적처에서 제안하시기 바랍니다.</p>
        <ul>
            <li><span class="badge badge-primary">M1</span> 외부축 설정 완료</li>
            <li><span class="badge badge-primary">M2</span> RAPID 프로그램 1차 완성</li>
            <li><span class="badge badge-primary">M3</span> Phase 1-2 테스트 통과</li>
            <li><span class="badge badge-primary">M4</span> Phase 3-4 테스트 통과</li>
            <li><span class="badge badge-success">M5</span> 시운전 완료 및 인수</li>
        </ul>

        <h3>10.3 검수 기준</h3>
        <div class="info-box">
            <strong>최종 검수 통과 조건:</strong>
            <ul>
                <li>✅ 요구 기능 정상 구현 확인</li>
                <li>✅ 실부재 TEST 완료</li>
                <li>✅ 모든 안전 기능 정상 동작</li>
                <li>✅ 문서 및 교육 완료</li>
            </ul>
        </div>

        <h3>10.4 담당자</h3>
        <table>
            <thead>
                <tr>
                    <th>역할</th>
                    <th>담당자</th>
                    <th>소속</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ABB 시스템 설계</td>
                    <td>황동호 팀장</td>
                    <td>ABB</td>
                </tr>
                <tr>
                    <td>ABB RAPID 프로그래밍</td>
                    <td>유대영 차장</td>
                    <td>ABB</td>
                </tr>
                <tr>
                    <td>프로젝트 총괄</td>
                    <td>SP 심태양</td>
                    <td>삼성중공업</td>
                </tr>
            </tbody>
        </table>

        <div class="info-box" style="margin-top: 20px;">
            <strong>💡 외부 전문가 어레인지 가능:</strong>
            <p>프로젝트 요구사항에 따라 ABB 공인 파트너 또는 로봇 프로그래밍 전문가를 별도로 어레인지할 수 있습니다.
            특정 전문가 또는 업체 선호 사항이 있을 경우 프로젝트 협의 시 요청 가능합니다.</p>
        </div>
    </div>

    <!-- 부록: Plan A 참고 자료 -->
    <div id="appendix" class="section">
        <h2>부록: Plan A 참고 자료</h2>

        <div class="info-box">
            <strong>📌 Plan A 백업 위치:</strong><br>
            <code>/home/qwe/works/s25016/robot)badkup/1200-526404_BACKUP_2025-11-05_2120_B2</code>
        </div>

        <h3>A.1 Plan A 시스템 개요</h3>
        <ul>
            <li><strong>구조:</strong> 3-Task 체계 (T_ROB1, T_ROB2, T_GANTRY)</li>
            <li><strong>메카니컬 유닛:</strong> 3개 (ROB_1, ROB_2, Gantry)</li>
            <li><strong>동기화 방식:</strong> 소프트웨어 신호 기반 (so_MoveG_PosHold 등)</li>
            <li><strong>좌표 변환:</strong> 수동 함수 (fnPoseToExtax, fnCoordToJoint)</li>
        </ul>

        <h3>A.2 Plan A 프로그램 구조 (참고용)</h3>
        <ul>
            <li><strong>총 모듈 수:</strong> 약 360개 (.mod, .sys 포함)</li>
            <li><strong>주요 설정 파일:</strong>
                <ul>
                    <li>SYSPAR/*.cfg (시스템 파라미터)</li>
                    <li>HOME/*.sys (사용자 시스템 모듈)</li>
                    <li>HOME/Arc/LincolnData/ (Lincoln Electric 용접기 설정)</li>
                </ul>
            </li>
            <li><strong>데이터 구조:</strong>
                <ul>
                    <li>Welds1{} - ROB_1 로봇 좌표</li>
                    <li>WeldsG{} - 갠트리 좌표 (별도 배열)</li>
                </ul>
            </li>
        </ul>

        <h3>A.3 Plan A → Plan B 마이그레이션 가이드</h3>
        <table>
            <thead>
                <tr>
                    <th>Plan A 요소</th>
                    <th>Plan B 변환</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>TASK7 (Gantry)</td>
                    <td>삭제</td>
                    <td>외부축으로 통합</td>
                </tr>
                <tr>
                    <td>WeldsG{}</td>
                    <td>Welds1{}.extax</td>
                    <td>robtarget에 통합</td>
                </tr>
                <tr>
                    <td>fnPoseToExtax()</td>
                    <td>삭제</td>
                    <td>제어기 자동 변환</td>
                </tr>
                <tr>
                    <td>fnCoordToJoint()</td>
                    <td>삭제</td>
                    <td>제어기 자동 변환</td>
                </tr>
                <tr>
                    <td>so_MoveG_PosHold</td>
                    <td>삭제</td>
                    <td>하드웨어 동기화로 대체</td>
                </tr>
                <tr>
                    <td>stReact{3}</td>
                    <td>stReact{2}</td>
                    <td>Task 수 감소</td>
                </tr>
            </tbody>
        </table>

        <h3>A.4 Plan A 장단점 분석</h3>
        <table>
            <thead>
                <tr>
                    <th>장점</th>
                    <th>단점</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>✅ 기존 검증된 시스템</td>
                    <td>❌ 소프트웨어 동기화 불안정성</td>
                </tr>
                <tr>
                    <td>✅ 현장 운영 경험 축적</td>
                    <td>❌ 좌표 변환 함수로 인한 복잡도</td>
                </tr>
                <tr>
                    <td>✅ 백업 및 복원 용이</td>
                    <td>❌ 3-Task 구조로 유지보수 어려움</td>
                </tr>
                <tr>
                    <td></td>
                    <td>❌ 반복 정밀도 제한 (±0.2mm)</td>
                </tr>
            </tbody>
        </table>

        <div class="highlight-box">
            <strong>💡 권장 사항:</strong>
            <ul>
                <li>Plan A 백업은 <strong>참고용</strong>으로만 활용</li>
                <li>새로운 프로그래밍은 <strong>Plan B 구조</strong>를 기본으로 개발</li>
                <li>Plan A의 welddata, weavedata, Macro 로직은 <strong>재사용</strong> 가능</li>
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p><strong>문서 버전:</strong> 1.0</p>
        <p><strong>최종 수정일:</strong> 2025-11-14</p>
        <p><strong>작성:</strong> SP 심태양 | <strong>프로젝트:</strong> S25016</p>
        <p style="margin-top: 20px; font-size: 0.9em; color: #999;">
            이 문서는 ABB 로봇 프로그래밍 발주를 위한 기술 사양서입니다.<br>
            문의사항은 프로젝트 담당자에게 연락 바랍니다.
        </p>
    </div>
</div>

</body>
</html>