<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ABB 로봇 시스템 기술 보고서 및 지원 요청</title>
  <style>
    body { font-family: 'Malgun Gothic', '맑은 고딕', sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; color: #333; }
    .email-container { max-width: 900px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 40px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    h1 { font-size: 28px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; margin-top: 0; }
    h2 { font-size: 22px; color: #2980b9; border-left: 4px solid #3498db; padding-left: 12px; margin-top: 40px; margin-bottom: 20px; }
    h3 { font-size: 18px; color: #2c3e50; margin-top: 30px; border-bottom: 1px solid #ecf0f1; padding-bottom: 8px; }
    .email-meta { margin-bottom: 30px; line-height: 1.6; font-size: 15px; }
    .email-meta span { display: inline-block; min-width: 50px; color: #7f8c8d; }
    .email-body p, .email-body li { line-height: 1.8; font-size: 16px; }
    .email-body ul { padding-left: 25px; list-style-type: disc; }
    .signature { margin-top: 50px; padding-top: 20px; border-top: 1px solid #ecf0f1; font-size: 15px; line-height: 1.7; color: #555; }
    .file-section { border: 1px solid #dfe6e9; border-radius: 8px; margin-top: 20px; overflow: hidden; }
    .analysis-box { background-color: #f8f9f9; padding: 20px; border-bottom: 1px solid #dfe6e9; }
    .analysis-box h4 { margin-top: 0; font-size: 18px; color: #34495e; }
    .diff-container { font-family: Consolas, 'Courier New', monospace; overflow-x: auto; background: #fdfdfd; }
    .diff-container pre { margin: 0; padding: 15px; font-size: 14px; line-height: 1.5; white-space: pre-wrap; word-wrap: break-word;}
    .diff-line { display: block; }
    .diff-line.add { background-color: #e6ffed; }
    .diff-line.del { background-color: #ffeef0; }
    .diff-line.meta { color: #6a737d; background-color: #f1f8ff; }
    strong { color: #c0392b; }
  </style>
  <script>
    function formatDiff(diffText) {
      return diffText.split('\n').map(line => {
        let className = '';
        let content = line.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;') || ' ';
        if (line.startsWith('+')) {
          className = 'add';
        } else if (line.startsWith('-')) {
          className = 'del';
        } else if (line.startsWith('diff --git') || line.startsWith('index') || line.startsWith('---') || line.startsWith('+++') || line.startsWith('@@')) {
          className = 'meta';
        }
        return `<span class="diff-line ${className}">${content}</span>`;
      }).join('');
    }
    document.addEventListener('DOMContentLoaded', () => {
      const diffs = document.querySelectorAll('.diff-data');
      diffs.forEach(diffElem => {
        const pre = diffElem.querySelector('pre');
        const formatted = formatDiff(pre.textContent);
        pre.innerHTML = formatted;
      });
    });
  </script>
</head>
<body>
  <div class="email-container">
    <div class="email-header">
      <h1>[에스피시스템스] 삼성중공업 소조립 B라인 ABB 로봇 시스템 기술 보고서 및 지원 요청</h1>
    </div>
    <div class="email-meta">
      <p><span>수신:</span> ABB 코리아 담당자님</p>
      <p><span>발신:</span> 에스피시스템스 심태양 부장</p>
    </div>
    <div class="email-body">
      <p>안녕하십니까, 에스피시스템스 심태양 부장입니다.<br>귀사와 함께 진행 중인 '삼성중공업 소조립 용접 시스템 B라인' 프로젝트에 관련하여, 현재 시스템의 문제점과 저희가 파악한 기술적인 내용을 공유하고 이를 해결하기 위한 긴급 지원을 요청드리고자 합니다.</p>
      
      <h3>1. 시스템 구성 상세</h3>
      <p>현재 저희가 귀사의 로봇으로 구축 중인 B라인 시스템의 구성은 아래와 같습니다.</p>
      <ul>
        <li><strong>기구 구성:</strong> ABB IRC5 컨트롤러 기반, `Gantry`라는 단일 그룹 하에 `ROB_1`, `ROB_2` (용접 로봇), `GantryRob_7` (갠트리 로봇), `ELM_X` (외부 축) 유닛이 통합된 복합 구조입니다.</li>
        <li><strong>소프트웨어 구조:</strong> `T_ROB1`, `T_ROB2`, `T_Gantry`, `T_Head` 등 다수의 태스크가 각 기구를 제어하는 Multi-tasking 환경입니다.</li>
        <li><strong>어플리케이션 특징:</strong> 한 로봇 프로그램 내에서 다른 로봇을 기준으로 하는 작업 좌표계(`wobj`)를 설정하여 사용하는 등, 로봇 간 정밀한 좌표 변환 및 동기화가 필수적인 <strong>복합/협조 로봇 시스템(Coordinated Motion)</strong>입니다.</li>
      </ul>

      <h3>2. 주요 예상 문제점 및 기술 근거</h3>
      <p>현재 생산 라인 가동이 불가한 상황이며, 표면적으로는 용접기와의 통신 에러가 발생하고 있습니다. 하지만 하드웨어 교체로도 문제가 해결되지 않아, 저희는 **ABB 컨트롤러 내부의 복잡한 소프트웨어 및 시스템 통합(SI) 설정**에 근본적인 원인이 있을 것으로 예상하고 있습니다.</p>
      <p>그 근거로, 최신 백업 데이터에서 다음과 같은 점들을 확인했습니다.</p>
      
      <div class="file-section">
        <h3>예상 문제 1: 코드 및 파라미터의 불안정성</h3>
        <div class="analysis-box">
          <p>단순 파라미터 외에 프로그램의 기본 흐름까지 계속 수정되는 것으로 보아, <strong>시스템이 안정된 상태가 아닌 것으로 예상됩니다.</strong> 아래는 1호기의 용접 조건이 최근 크게 변경된 예시로, 이러한 빈번한 수정이 시스템의 다른 부분에 예기치 않은 영향을 줄 수 있습니다.</p>
        </div>
        <div class="diff-container">
          <div class="diff-data"><pre>diff --git a/robot)badkup/1200-526402_BACKUP_2025-10-15-No_1/RAPID/TASK1/PROGMOD/Rob1_MainModule.mod b/robot)badkup/1200-526402_BACKUP_2025-10-15-No_1/RAPID/TASK1/PROGMOD/Rob1_MainModule.mod
--- a/robot)badkup/1200-526402_BACKUP_2025-10-15-No_1/RAPID/TASK1/PROGMOD/Rob1_MainModule.mod
+++ b/robot)badkup/1200-526402_BACKUP_2025-10-15-No_1/RAPID/TASK1/PROGMOD/Rob1_MainModule.mod
@@ -115,10 +115,10 @@ MODULE Rob1_MainModule
-    TASK PERS welddata wd1:=[8.66667,0,[5,0,38,0,0,380,0,0,0],[0,0,0,0,0,0,0,0,0]];
-    TASK PERS welddata wd2:=[8.66667,0,[5,0,38,0,0,380,0,0,0],[0,0,0,0,0,0,0,0,0]];
+    TASK PERS welddata wd1:=[8.66667,0,[5,0,38,0,0,430,0,0,0],[0,0,0,0,0,0,0,0,0]];
+    TASK PERS welddata wd2:=[8.66667,0,[5,0,38,0,0,430,0,0,0],[0,0,0,0,0,0,0,0,0]];
</pre></div>
        </div>
      </div>

      <div class="file-section">
        <h3>예상 문제 2: 복합 시스템 통합(SI) 설정 오류</h3>
        <div class="analysis-box">
          <p>로봇 프로그램이 다른 로봇의 좌표계를 직접 참조하는 등, 로봇 간의 상호작용이 매우 복잡하게 설정되어 있습니다. 이러한 <strong>복합 시스템의 통합 설정(SI) 과정에서 발생한 오류</strong>가 문제의 근본 원인일 것으로 추정됩니다. 아래는 3호기에서 다른 로봇을 참조하기 위해 작업 좌표계를 추가한 코드입니다.</p>
        </div>
        <div class="diff-container">
          <div class="diff-data"><pre>diff --git a/robot)badkup/1200-526406_BACKUP_2025-10-15_No_3/RAPID/TASK1/PROGMOD/T_ROB1_Function.mod b/robot)badkup/1200-526406_BACKUP_2025-10-15_No_3/RAPID/TASK1/PROGMOD/T_ROB1_Function.mod
--- a/robot)badkup/1200-526406_BACKUP_2025-10-15_No_3/RAPID/TASK1/PROGMOD/T_ROB1_Function.mod
+++ b/robot)badkup/1200-526406_BACKUP_2025-10-15_No_3/RAPID/TASK1/PROGMOD/T_ROB1_Function.mod
@@ -1,4 +1,6 @@
 MODULE T_ROB1_Function
+    TASK PERS wobjdata wobj1:=[FALSE,FALSE,"GantryRob_7",[[0,0,0],[1,0,0,0]],[[0,0,0],[1,0,0,0]]];
+    TASK PERS wobjdata wobj2:=[FALSE,FALSE,"ROB_2",[[0,0,0],[1,0,0,0]],[[0,0,0],[1,0,0,0]]];
     FUNC num TouchLimit(num Standard,num comparison)
         VAR num result;
         IF Standard<=comparison result:=Standard;
</pre></div>
        </div>
      </div>

      <h3>3. 요청 사항</h3>
      <p>상기 내용과 같이, 현재 이슈는 표준 기술 지원의 범위를 넘어서는 것으로 사료됩니다. 따라서, 아래와 같은 경험을 보유한 <strong>ABB 본사 또는 글로벌 레벨의 전문가</strong>의 시급한 현장 지원을 요청드립니다.</p>
      <ul>
        <li>갠트리 기반의 Multi-Move 시스템 구축 및 안정화 경험이 풍부한 전문가</li>
        <li>용접 어플리케이션에 대한 깊은 이해와 RAPID 코드 디버깅 능력을 갖춘 전문가</li>
        <li>로봇 간의 동기화 및 충돌 방지 등 복합 시스템 통합(SI) 문제 해결 경험이 있는 전문가</li>
      </ul>
      <p>삼성중공업의 생산 일정이 심각하게 지연되고 있는 바, 조속한 전문가 파견 및 문제 해결을 위한 귀사의 적극적인 협조를 간곡히 부탁드립니다.</p>
      
      <p>감사합니다.</p>
    </div>
    <div class="signature">
      <p><strong>심태양 배상</strong><br>
      에스피시스템스 부장</p>
    </div>
  </div>
</body>
</html>
